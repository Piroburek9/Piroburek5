import{r as c,b as Lt,R as Ue,c as ls,a as ka}from"./vendor-dd3c4855.js";import{$ as Ra,C as cs,a as Ma,b as Ia,M as Oa,L as Da,U as Mt,c as La,u as Se,X as ds,B as Jt,d as Zt,H as jn,e as Nn,f as It,g as Cn,S as us,T as Mr,h as $a,i as za,j as Ir,k as Ba,l as fs,A as Fa,m as ms,n as Wa,D as Ua,G as Va,R as Ha,o as Ga,p as Qa,q as Ka,r as qa,s as Ya,t as Xa,v as Ja,w as Za}from"./ui-7332e38b.js";import{c as hs}from"./charts-3c6eb5ce.js";import{_ as Xe,a as ps,b as ei}from"./motion-6ccf754a.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var gs={exports:{}},dr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ti=c,ri=Symbol.for("react.element"),ni=Symbol.for("react.fragment"),si=Object.prototype.hasOwnProperty,oi=ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ai={key:!0,ref:!0,__self:!0,__source:!0};function xs(e,t,r){var n,o={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)si.call(t,n)&&!ai.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:ri,type:e,key:a,ref:l,props:o,_owner:oi.current}}dr.Fragment=ni;dr.jsx=xs;dr.jsxs=xs;gs.exports=dr;var s=gs.exports,Or={},_n=Lt;Or.createRoot=_n.createRoot,Or.hydrateRoot=_n.hydrateRoot;const ii=({...e})=>s.jsx(Ra,{theme:"light",className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-white group-[.toaster]:text-gray-900 group-[.toaster]:border-gray-200 group-[.toaster]:shadow-lg",description:"group-[.toast]:text-gray-600",actionButton:"group-[.toast]:bg-blue-600 group-[.toast]:text-white",cancelButton:"group-[.toast]:bg-gray-100 group-[.toast]:text-gray-900"}},...e});function En(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vs(...e){return t=>{let r=!1;const n=e.map(o=>{const a=En(o,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let o=0;o<n.length;o++){const a=n[o];typeof a=="function"?a():En(e[o],null)}}}}function X(...e){return c.useCallback(vs(...e),e)}function St(e){const t=li(e),r=c.forwardRef((n,o)=>{const{children:a,...l}=n,i=c.Children.toArray(a),d=i.find(di);if(d){const u=d.props.children,f=i.map(m=>m===d?c.Children.count(u)>1?c.Children.only(null):c.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...l,ref:o,children:c.isValidElement(u)?c.cloneElement(u,void 0,f):null})}return s.jsx(t,{...l,ref:o,children:a})});return r.displayName=`${e}.Slot`,r}var bs=St("Slot");function li(e){const t=c.forwardRef((r,n)=>{const{children:o,...a}=r;if(c.isValidElement(o)){const l=fi(o),i=ui(a,o.props);return o.type!==c.Fragment&&(i.ref=n?vs(n,l):l),c.cloneElement(o,i)}return c.Children.count(o)>1?c.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ci=Symbol("radix.slottable");function di(e){return c.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ci}function ui(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...i)=>{const d=a(...i);return o(...i),d}:o&&(r[n]=o):n==="style"?r[n]={...o,...a}:n==="className"&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function fi(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const An=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Tn=hs,ys=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Tn(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:a}=t,l=Object.keys(o).map(u=>{const f=r==null?void 0:r[u],m=a==null?void 0:a[u];if(f===null)return null;const p=An(f)||An(m);return o[u][p]}),i=r&&Object.entries(r).reduce((u,f)=>{let[m,p]=f;return p===void 0||(u[m]=p),u},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:m,className:p,...g}=f;return Object.entries(g).every(x=>{let[h,v]=x;return Array.isArray(v)?v.includes({...a,...i}[h]):{...a,...i}[h]===v})?[...u,m,p]:u},[]);return Tn(e,l,d,r==null?void 0:r.class,r==null?void 0:r.className)};function mi(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=ws(t))&&(n&&(n+=" "),n+=r);return n}function ws(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=ws(e[n]))&&(r&&(r+=" "),r+=t);return r}var Yr="-";function hi(e){var t=gi(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,o=n===void 0?{}:n;function a(i){var d=i.split(Yr);return d[0]===""&&d.length!==1&&d.shift(),Ss(d,t)||pi(i)}function l(i,d){var u=r[i]||[];return d&&o[i]?[].concat(u,o[i]):u}return{getClassGroupId:a,getConflictingClassGroupIds:l}}function Ss(e,t){var l;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),o=n?Ss(e.slice(1),n):void 0;if(o)return o;if(t.validators.length!==0){var a=e.join(Yr);return(l=t.validators.find(function(i){var d=i.validator;return d(a)}))==null?void 0:l.classGroupId}}var Pn=/^\[(.+)\]$/;function pi(e){if(Pn.test(e)){var t=Pn.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function gi(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},o=vi(Object.entries(e.classGroups),r);return o.forEach(function(a){var l=a[0],i=a[1];Dr(i,n,l,t)}),n}function Dr(e,t,r,n){e.forEach(function(o){if(typeof o=="string"){var a=o===""?t:kn(t,o);a.classGroupId=r;return}if(typeof o=="function"){if(xi(o)){Dr(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(function(l){var i=l[0],d=l[1];Dr(d,kn(t,i),r,n)})})}function kn(e,t){var r=e;return t.split(Yr).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function xi(e){return e.isThemeGetter}function vi(e,t){return t?e.map(function(r){var n=r[0],o=r[1],a=o.map(function(l){return typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(function(i){var d=i[0],u=i[1];return[t+d,u]})):l});return[n,a]}):e}function bi(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function o(a,l){r.set(a,l),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(l){var i=r.get(l);if(i!==void 0)return i;if((i=n.get(l))!==void 0)return o(l,i),i},set:function(l,i){r.has(l)?r.set(l,i):o(l,i)}}}var js="!";function yi(e){var t=e.separator||":",r=t.length===1,n=t[0],o=t.length;return function(l){for(var i=[],d=0,u=0,f,m=0;m<l.length;m++){var p=l[m];if(d===0){if(p===n&&(r||l.slice(m,m+o)===t)){i.push(l.slice(u,m)),u=m+o;continue}if(p==="/"){f=m;continue}}p==="["?d++:p==="]"&&d--}var g=i.length===0?l:l.substring(u),x=g.startsWith(js),h=x?g.substring(1):g,v=f&&f>u?f-u:void 0;return{modifiers:i,hasImportantModifier:x,baseClassName:h,maybePostfixModifierPosition:v}}}function wi(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var o=n[0]==="[";o?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function Si(e){return{cache:bi(e.cacheSize),splitModifiers:yi(e),...hi(e)}}var ji=/\s+/;function Ni(e,t){var r=t.splitModifiers,n=t.getClassGroupId,o=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(ji).map(function(l){var i=r(l),d=i.modifiers,u=i.hasImportantModifier,f=i.baseClassName,m=i.maybePostfixModifierPosition,p=n(m?f.substring(0,m):f),g=!!m;if(!p){if(!m)return{isTailwindClass:!1,originalClassName:l};if(p=n(f),!p)return{isTailwindClass:!1,originalClassName:l};g=!1}var x=wi(d).join(":"),h=u?x+js:x;return{isTailwindClass:!0,modifierId:h,classGroupId:p,originalClassName:l,hasPostfixModifier:g}}).reverse().filter(function(l){if(!l.isTailwindClass)return!0;var i=l.modifierId,d=l.classGroupId,u=l.hasPostfixModifier,f=i+d;return a.has(f)?!1:(a.add(f),o(d,u).forEach(function(m){return a.add(i+m)}),!0)}).reverse().map(function(l){return l.originalClassName}).join(" ")}function Ci(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o,a,l=i;function i(u){var f=t[0],m=t.slice(1),p=m.reduce(function(g,x){return x(g)},f());return n=Si(p),o=n.cache.get,a=n.cache.set,l=d,d(u)}function d(u){var f=o(u);if(f)return f;var m=Ni(u,n);return a(u,m),m}return function(){return l(mi.apply(null,arguments))}}function ee(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var Ns=/^\[(?:([a-z-]+):)?(.+)\]$/i,_i=/^\d+\/\d+$/,Ei=new Set(["px","full","screen"]),Ai=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ti=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Pi=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Ae(e){return at(e)||Ei.has(e)||_i.test(e)||Lr(e)}function Lr(e){return ft(e,"length",Di)}function ki(e){return ft(e,"size",Cs)}function Ri(e){return ft(e,"position",Cs)}function Mi(e){return ft(e,"url",Li)}function Bt(e){return ft(e,"number",at)}function at(e){return!Number.isNaN(Number(e))}function Ii(e){return e.endsWith("%")&&at(e.slice(0,-1))}function Pt(e){return Rn(e)||ft(e,"number",Rn)}function V(e){return Ns.test(e)}function kt(){return!0}function qe(e){return Ai.test(e)}function Oi(e){return ft(e,"",$i)}function ft(e,t,r){var n=Ns.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function Di(e){return Ti.test(e)}function Cs(){return!1}function Li(e){return e.startsWith("url(")}function Rn(e){return Number.isInteger(Number(e))}function $i(e){return Pi.test(e)}function zi(){var e=ee("colors"),t=ee("spacing"),r=ee("blur"),n=ee("brightness"),o=ee("borderColor"),a=ee("borderRadius"),l=ee("borderSpacing"),i=ee("borderWidth"),d=ee("contrast"),u=ee("grayscale"),f=ee("hueRotate"),m=ee("invert"),p=ee("gap"),g=ee("gradientColorStops"),x=ee("gradientColorStopPositions"),h=ee("inset"),v=ee("margin"),b=ee("opacity"),y=ee("padding"),w=ee("saturate"),j=ee("scale"),S=ee("sepia"),C=ee("skew"),N=ee("space"),A=ee("translate"),T=function(){return["auto","contain","none"]},_=function(){return["auto","hidden","clip","visible","scroll"]},P=function(){return["auto",V,t]},E=function(){return[V,t]},M=function(){return["",Ae]},R=function(){return["auto",at,V]},B=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},I=function(){return["solid","dashed","dotted","double","none"]},D=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},O=function(){return["start","end","center","between","around","evenly","stretch"]},F=function(){return["","0",V]},ne=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},re=function(){return[at,Bt]},ye=function(){return[at,V]};return{cacheSize:500,theme:{colors:[kt],spacing:[Ae],blur:["none","",qe,V],brightness:re(),borderColor:[e],borderRadius:["none","","full",qe,V],borderSpacing:E(),borderWidth:M(),contrast:re(),grayscale:F(),hueRotate:ye(),invert:F(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[Ii,Lr],inset:P(),margin:P(),opacity:re(),padding:E(),saturate:re(),scale:re(),sepia:F(),skew:ye(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",V]}],container:["container"],columns:[{columns:[qe]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(B(),[V])}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pt]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",V]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Pt]}],"grid-cols":[{"grid-cols":[kt]}],"col-start-end":[{col:["auto",{span:["full",Pt]},V]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[kt]}],"row-start-end":[{row:["auto",{span:[Pt]},V]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",V]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",V]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(O())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(O(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(O(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",V,t]}],"min-w":[{"min-w":["min","max","fit",V,Ae]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[qe]},qe,V]}],h:[{h:[V,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",V,Ae]}],"max-h":[{"max-h":[V,t,"min","max","fit"]}],"font-size":[{text:["base",qe,Lr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bt]}],"font-family":[{font:[kt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",V]}],"line-clamp":[{"line-clamp":["none",at,Bt]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",V,Ae]}],"list-image":[{"list-image":["none",V]}],"list-style-type":[{list:["none","disc","decimal",V]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(I(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Ae]}],"underline-offset":[{"underline-offset":["auto",V,Ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",V]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",V]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(B(),[Ri])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ki]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Mi]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[].concat(I(),["hidden"])}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:I()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(I())}],"outline-offset":[{"outline-offset":[V,Ae]}],"outline-w":[{outline:[Ae]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Ae]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qe,Oi]}],"shadow-color":[{shadow:[kt]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":D()}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",qe,V]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",V]}],duration:[{duration:ye()}],ease:[{ease:["linear","in","out","in-out",V]}],delay:[{delay:ye()}],animate:[{animate:["none","spin","ping","pulse","bounce",V]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Pt,V]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",V]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",V]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",V]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ae,Bt]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Bi=Ci(zi);function te(...e){return Bi(hs(e))}const Fi=ys("flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold transition-[transform,shadow,background,filter] duration-300 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive mx-auto w-fit relative overflow-hidden",{variants:{variant:{default:"text-white ring-1 ring-white/10 bg-[linear-gradient(135deg,#2563EB_0%,#7C3AED_100%)] hover:bg-[linear-gradient(135deg,#1D4ED8_0%,#6D28D9_100%)] backdrop-blur shadow-[inset_0_0_0_1px_rgba(255,255,255,0.06),0_10px_22px_-12px_rgba(2,6,23,0.45)] hover:shadow-[inset_0_0_0_1px_rgba(255,255,255,0.1),0_18px_40px_-16px_rgba(2,6,23,0.55)] hover:-translate-y-0.5 active:translate-y-0",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background/70 text-foreground hover:bg-accent/10 hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 rounded-xl",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent/10 hover:text-accent-foreground dark:hover:bg-accent/20",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-12 rounded-md px-7 has-[>svg]:px-5",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),ie=c.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},a)=>{const l=n?bs:"button";return s.jsx(l,{className:te(Fi({variant:t,size:r,className:e})),ref:a,"data-slot":"button",...o})});ie.displayName="Button";var Wi=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],U=Wi.reduce((e,t)=>{const r=St(`Primitive.${t}`),n=c.forwardRef((o,a)=>{const{asChild:l,...i}=o,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...i,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Ui(e,t){e&&Lt.flushSync(()=>e.dispatchEvent(t))}var ue=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{};function Vi(e,t){return c.useReducer((r,n)=>t[r][n]??r,e)}var tt=e=>{const{present:t,children:r}=e,n=Hi(t),o=typeof r=="function"?r({present:n.isPresent}):c.Children.only(r),a=X(n.ref,Gi(o));return typeof r=="function"||n.isPresent?c.cloneElement(o,{ref:a}):null};tt.displayName="Presence";function Hi(e){const[t,r]=c.useState(),n=c.useRef(null),o=c.useRef(e),a=c.useRef("none"),l=e?"mounted":"unmounted",[i,d]=Vi(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const u=Ft(n.current);a.current=i==="mounted"?u:"none"},[i]),ue(()=>{const u=n.current,f=o.current;if(f!==e){const p=a.current,g=Ft(u);e?d("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(f&&p!==g?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),ue(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,m=g=>{const h=Ft(n.current).includes(g.animationName);if(g.target===t&&h&&(d("ANIMATION_END"),!o.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},p=g=>{g.target===t&&(a.current=Ft(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:c.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Ft(e){return(e==null?void 0:e.animationName)||"none"}function Gi(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Qi(e,t){const r=c.createContext(t),n=a=>{const{children:l,...i}=a,d=c.useMemo(()=>i,Object.values(i));return s.jsx(r.Provider,{value:d,children:l})};n.displayName=e+"Provider";function o(a){const l=c.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,o]}function mt(e,t=[]){let r=[];function n(a,l){const i=c.createContext(l),d=r.length;r=[...r,l];const u=m=>{var b;const{scope:p,children:g,...x}=m,h=((b=p==null?void 0:p[e])==null?void 0:b[d])||i,v=c.useMemo(()=>x,Object.values(x));return s.jsx(h.Provider,{value:v,children:g})};u.displayName=a+"Provider";function f(m,p){var h;const g=((h=p==null?void 0:p[e])==null?void 0:h[d])||i,x=c.useContext(g);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[u,f]}const o=()=>{const a=r.map(l=>c.createContext(l));return function(i){const d=(i==null?void 0:i[e])||a;return c.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return o.scopeName=e,[n,Ki(o,...t)]}function Ki(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const l=n.reduce((i,{useScope:d,scopeName:u})=>{const m=d(a)[`__scope${u}`];return{...i,...m}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function be(e){const t=c.useRef(e);return c.useEffect(()=>{t.current=e}),c.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var qi=c.createContext(void 0);function _s(e){const t=c.useContext(qi);return e||t||"ltr"}function $r(e,[t,r]){return Math.min(r,Math.max(t,e))}function G(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Yi(e,t){return c.useReducer((r,n)=>t[r][n]??r,e)}var Xr="ScrollArea",[Es,Jf]=mt(Xr),[Xi,Ce]=Es(Xr),As=c.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:o,scrollHideDelay:a=600,...l}=e,[i,d]=c.useState(null),[u,f]=c.useState(null),[m,p]=c.useState(null),[g,x]=c.useState(null),[h,v]=c.useState(null),[b,y]=c.useState(0),[w,j]=c.useState(0),[S,C]=c.useState(!1),[N,A]=c.useState(!1),T=X(t,P=>d(P)),_=_s(o);return s.jsx(Xi,{scope:r,type:n,dir:_,scrollHideDelay:a,scrollArea:i,viewport:u,onViewportChange:f,content:m,onContentChange:p,scrollbarX:g,onScrollbarXChange:x,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:h,onScrollbarYChange:v,scrollbarYEnabled:N,onScrollbarYEnabledChange:A,onCornerWidthChange:y,onCornerHeightChange:j,children:s.jsx(U.div,{dir:_,...l,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});As.displayName=Xr;var Ts="ScrollAreaViewport",Ps=c.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:o,...a}=e,l=Ce(Ts,r),i=c.useRef(null),d=X(t,i,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),s.jsx(U.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Ps.displayName=Ts;var ze="ScrollAreaScrollbar",Jr=c.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=Ce(ze,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=o,i=e.orientation==="horizontal";return c.useEffect(()=>(i?a(!0):l(!0),()=>{i?a(!1):l(!1)}),[i,a,l]),o.type==="hover"?s.jsx(Ji,{...n,ref:t,forceMount:r}):o.type==="scroll"?s.jsx(Zi,{...n,ref:t,forceMount:r}):o.type==="auto"?s.jsx(ks,{...n,ref:t,forceMount:r}):o.type==="always"?s.jsx(Zr,{...n,ref:t}):null});Jr.displayName=ze;var Ji=c.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=Ce(ze,e.__scopeScrollArea),[a,l]=c.useState(!1);return c.useEffect(()=>{const i=o.scrollArea;let d=0;if(i){const u=()=>{window.clearTimeout(d),l(!0)},f=()=>{d=window.setTimeout(()=>l(!1),o.scrollHideDelay)};return i.addEventListener("pointerenter",u),i.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),i.removeEventListener("pointerenter",u),i.removeEventListener("pointerleave",f)}}},[o.scrollArea,o.scrollHideDelay]),s.jsx(tt,{present:r||a,children:s.jsx(ks,{"data-state":a?"visible":"hidden",...n,ref:t})})}),Zi=c.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=Ce(ze,e.__scopeScrollArea),a=e.orientation==="horizontal",l=fr(()=>d("SCROLL_END"),100),[i,d]=Yi("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(i==="idle"){const u=window.setTimeout(()=>d("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(u)}},[i,o.scrollHideDelay,d]),c.useEffect(()=>{const u=o.viewport,f=a?"scrollLeft":"scrollTop";if(u){let m=u[f];const p=()=>{const g=u[f];m!==g&&(d("SCROLL"),l()),m=g};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[o.viewport,a,d,l]),s.jsx(tt,{present:r||i!=="hidden",children:s.jsx(Zr,{"data-state":i==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:G(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:G(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),ks=c.forwardRef((e,t)=>{const r=Ce(ze,e.__scopeScrollArea),{forceMount:n,...o}=e,[a,l]=c.useState(!1),i=e.orientation==="horizontal",d=fr(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;l(i?u:f)}},10);return jt(r.viewport,d),jt(r.content,d),s.jsx(tt,{present:n||a,children:s.jsx(Zr,{"data-state":a?"visible":"hidden",...o,ref:t})})}),Zr=c.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,o=Ce(ze,e.__scopeScrollArea),a=c.useRef(null),l=c.useRef(0),[i,d]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Ds(i.viewport,i.content),f={...n,sizes:i,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:p=>l.current=p};function m(p,g){return ol(p,l.current,i,g)}return r==="horizontal"?s.jsx(el,{...f,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const p=o.viewport.scrollLeft,g=Mn(p,i,o.dir);a.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{o.viewport&&(o.viewport.scrollLeft=p)},onDragScroll:p=>{o.viewport&&(o.viewport.scrollLeft=m(p,o.dir))}}):r==="vertical"?s.jsx(tl,{...f,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const p=o.viewport.scrollTop,g=Mn(p,i);a.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{o.viewport&&(o.viewport.scrollTop=p)},onDragScroll:p=>{o.viewport&&(o.viewport.scrollTop=m(p))}}):null}),el=c.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,a=Ce(ze,e.__scopeScrollArea),[l,i]=c.useState(),d=c.useRef(null),u=X(t,d,a.onScrollbarXChange);return c.useEffect(()=>{d.current&&i(getComputedStyle(d.current))},[d]),s.jsx(Ms,{"data-orientation":"horizontal",...o,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ur(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(a.viewport){const p=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(p),$s(p,m)&&f.preventDefault()}},onResize:()=>{d.current&&a.viewport&&l&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:tr(l.paddingLeft),paddingEnd:tr(l.paddingRight)}})}})}),tl=c.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,a=Ce(ze,e.__scopeScrollArea),[l,i]=c.useState(),d=c.useRef(null),u=X(t,d,a.onScrollbarYChange);return c.useEffect(()=>{d.current&&i(getComputedStyle(d.current))},[d]),s.jsx(Ms,{"data-orientation":"vertical",...o,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ur(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(a.viewport){const p=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(p),$s(p,m)&&f.preventDefault()}},onResize:()=>{d.current&&a.viewport&&l&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:tr(l.paddingTop),paddingEnd:tr(l.paddingBottom)}})}})}),[rl,Rs]=Es(ze),Ms=c.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:o,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:i,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:f,onResize:m,...p}=e,g=Ce(ze,r),[x,h]=c.useState(null),v=X(t,T=>h(T)),b=c.useRef(null),y=c.useRef(""),w=g.viewport,j=n.content-n.viewport,S=be(f),C=be(d),N=fr(m,10);function A(T){if(b.current){const _=T.clientX-b.current.left,P=T.clientY-b.current.top;u({x:_,y:P})}}return c.useEffect(()=>{const T=_=>{const P=_.target;(x==null?void 0:x.contains(P))&&S(_,j)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[w,x,j,S]),c.useEffect(C,[n,C]),jt(x,N),jt(g.content,N),s.jsx(rl,{scope:r,scrollbar:x,hasThumb:o,onThumbChange:be(a),onThumbPointerUp:be(l),onThumbPositionChange:C,onThumbPointerDown:be(i),children:s.jsx(U.div,{...p,ref:v,style:{position:"absolute",...p.style},onPointerDown:G(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),b.current=x.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),A(T))}),onPointerMove:G(e.onPointerMove,A),onPointerUp:G(e.onPointerUp,T=>{const _=T.target;_.hasPointerCapture(T.pointerId)&&_.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=y.current,g.viewport&&(g.viewport.style.scrollBehavior=""),b.current=null})})})}),er="ScrollAreaThumb",Is=c.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=Rs(er,e.__scopeScrollArea);return s.jsx(tt,{present:r||o.hasThumb,children:s.jsx(nl,{ref:t,...n})})}),nl=c.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...o}=e,a=Ce(er,r),l=Rs(er,r),{onThumbPositionChange:i}=l,d=X(t,m=>l.onThumbChange(m)),u=c.useRef(void 0),f=fr(()=>{u.current&&(u.current(),u.current=void 0)},100);return c.useEffect(()=>{const m=a.viewport;if(m){const p=()=>{if(f(),!u.current){const g=al(m,i);u.current=g,i()}};return i(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[a.viewport,f,i]),s.jsx(U.div,{"data-state":l.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:G(e.onPointerDownCapture,m=>{const g=m.target.getBoundingClientRect(),x=m.clientX-g.left,h=m.clientY-g.top;l.onThumbPointerDown({x,y:h})}),onPointerUp:G(e.onPointerUp,l.onThumbPointerUp)})});Is.displayName=er;var en="ScrollAreaCorner",Os=c.forwardRef((e,t)=>{const r=Ce(en,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(sl,{...e,ref:t}):null});Os.displayName=en;var sl=c.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,o=Ce(en,r),[a,l]=c.useState(0),[i,d]=c.useState(0),u=!!(a&&i);return jt(o.scrollbarX,()=>{var m;const f=((m=o.scrollbarX)==null?void 0:m.offsetHeight)||0;o.onCornerHeightChange(f),d(f)}),jt(o.scrollbarY,()=>{var m;const f=((m=o.scrollbarY)==null?void 0:m.offsetWidth)||0;o.onCornerWidthChange(f),l(f)}),u?s.jsx(U.div,{...n,ref:t,style:{width:a,height:i,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function tr(e){return e?parseInt(e,10):0}function Ds(e,t){const r=e/t;return isNaN(r)?0:r}function ur(e){const t=Ds(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function ol(e,t,r,n="ltr"){const o=ur(r),a=o/2,l=t||a,i=o-l,d=r.scrollbar.paddingStart+l,u=r.scrollbar.size-r.scrollbar.paddingEnd-i,f=r.content-r.viewport,m=n==="ltr"?[0,f]:[f*-1,0];return Ls([d,u],m)(e)}function Mn(e,t,r="ltr"){const n=ur(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,l=t.content-t.viewport,i=a-n,d=r==="ltr"?[0,l]:[l*-1,0],u=$r(e,d);return Ls([0,l],[0,i])(u)}function Ls(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function $s(e,t){return e>0&&e<t}var al=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},l=r.left!==a.left,i=r.top!==a.top;(l||i)&&t(),r=a,n=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(n)};function fr(e,t){const r=be(e),n=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(n.current),[]),c.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function jt(e,t){const r=be(t);ue(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,r])}var zs=As,il=Ps,ll=Os;const tn=c.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(zs,{ref:n,"data-slot":"scroll-area",className:te("relative",e),...r,children:[s.jsx(il,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1","data-radix-scroll-area-viewport":"",children:t}),s.jsx(Bs,{}),s.jsx(ll,{})]}));tn.displayName=zs.displayName;const Bs=c.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(Jr,{ref:n,"data-slot":"scroll-area-scrollbar",orientation:t,className:te("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:s.jsx(Is,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})}));Bs.displayName=Jr.displayName;const Je=c.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:te("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-white/10 flex h-9 w-full min-w-0 rounded-xl border px-3 py-1 text-base bg-white/5 backdrop-blur-md transition-[box-shadow,border,background] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm shadow-[inset_0_1px_0_0_rgba(255,255,255,0.06)]","focus-visible:border-cyan-400/60 focus-visible:ring-[3px] focus-visible:ring-cyan-400/30","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:n,"data-slot":"input",...r}));Je.displayName="Input";var Fs={exports:{}},Ws={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nt=c;function cl(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dl=typeof Object.is=="function"?Object.is:cl,ul=Nt.useState,fl=Nt.useEffect,ml=Nt.useLayoutEffect,hl=Nt.useDebugValue;function pl(e,t){var r=t(),n=ul({inst:{value:r,getSnapshot:t}}),o=n[0].inst,a=n[1];return ml(function(){o.value=r,o.getSnapshot=t,Sr(o)&&a({inst:o})},[e,r,t]),fl(function(){return Sr(o)&&a({inst:o}),e(function(){Sr(o)&&a({inst:o})})},[e]),hl(r),r}function Sr(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dl(e,r)}catch{return!0}}function gl(e,t){return t()}var xl=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gl:pl;Ws.useSyncExternalStore=Nt.useSyncExternalStore!==void 0?Nt.useSyncExternalStore:xl;Fs.exports=Ws;var vl=Fs.exports;function bl(){return vl.useSyncExternalStore(yl,()=>!0,()=>!1)}function yl(){return()=>{}}var rn="Avatar",[wl,Zf]=mt(rn),[Sl,Us]=wl(rn),Vs=c.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[o,a]=c.useState("idle");return s.jsx(Sl,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:s.jsx(U.span,{...n,ref:t})})});Vs.displayName=rn;var Hs="AvatarImage",jl=c.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:o=()=>{},...a}=e,l=Us(Hs,r),i=Nl(n,a),d=be(u=>{o(u),l.onImageLoadingStatusChange(u)});return ue(()=>{i!=="idle"&&d(i)},[i,d]),i==="loaded"?s.jsx(U.img,{...a,ref:t,src:n}):null});jl.displayName=Hs;var Gs="AvatarFallback",Qs=c.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...o}=e,a=Us(Gs,r),[l,i]=c.useState(n===void 0);return c.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>i(!0),n);return()=>window.clearTimeout(d)}},[n]),l&&a.imageLoadingStatus!=="loaded"?s.jsx(U.span,{...o,ref:t}):null});Qs.displayName=Gs;function In(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Nl(e,{referrerPolicy:t,crossOrigin:r}){const n=bl(),o=c.useRef(null),a=(()=>n?(o.current||(o.current=new window.Image),o.current):null)(),[l,i]=c.useState(()=>In(a,e));return ue(()=>{i(In(a,e))},[a,e]),ue(()=>{const d=m=>()=>{i(m)};if(!a)return;const u=d("loaded"),f=d("error");return a.addEventListener("load",u),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",f)}},[a,r,t]),l}var Cl=Vs,_l=Qs;function Kt({className:e,...t}){return s.jsx(Cl,{"data-slot":"avatar",className:te("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function El({className:e,...t}){return s.jsx(_l,{"data-slot":"avatar-fallback",className:te("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const Al="modulepreload",Tl=function(e){return"/"+e},On={},vt=function(t,r,n){if(!r||r.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=Tl(a),a in On)return;On[a]=!0;const l=a.endsWith(".css"),i=l?'[rel="stylesheet"]':"";if(!!n)for(let f=o.length-1;f>=0;f--){const m=o[f];if(m.href===a&&(!l||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${i}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":Al,l||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),l)return new Promise((f,m)=>{u.addEventListener("load",f),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a})};class Pl{constructor(){this.users=new Map,this.tests=new Map,this.customQuestionsBySubject={},this.results=new Map,this.currentUser=null,this.authToken=null,this.initializeMockData(),this.authToken=localStorage.getItem("auth_token"),vt(()=>import("./historyKZSeed-1e35efc6.js"),[]).then(t=>{this.customQuestionsBySubject.history_kz=[...this.customQuestionsBySubject.history_kz||[],...t.historyKZSeed]}).catch(()=>{}),vt(()=>import("./historyKZSeed_kz-968f65d3.js"),[]).then(t=>{this.customQuestionsBySubject.history_kz=[...this.customQuestionsBySubject.history_kz||[],...t.historyKZSeedKZ]}).catch(()=>{}),vt(()=>import("./mathLiteracySeed-b68decab.js"),[]).then(t=>{this.customQuestionsBySubject.math_literacy=[...this.customQuestionsBySubject.math_literacy||[],...t.mathLiteracySeed]}).catch(()=>{}),vt(()=>import("./mathLiteracySeed_kz-480a7885.js"),[]).then(t=>{this.customQuestionsBySubject.math_literacy=[...this.customQuestionsBySubject.math_literacy||[],...t.mathLiteracySeedKZ]}).catch(()=>{})}initializeMockData(){[{id:"test-1",title:"Математика - Алгебра",subject:"mathematics",difficulty:"medium",time_limit:1800,questions:[{id:"q1",question:"Решите уравнение: 2x + 5 = 13",type:"multiple_choice",options:["x = 4","x = 3","x = 5","x = 6"],correct_answer:0,explanation:"2x + 5 = 13, значит 2x = 8, откуда x = 4"},{id:"q2",question:"Найдите значение выражения: (3 + 2) × 4",type:"multiple_choice",options:["20","18","14","16"],correct_answer:0,explanation:"Сначала вычисляем в скобках: 3 + 2 = 5, затем 5 × 4 = 20"},{id:"q3",question:"Что больше: 0.5 или 1/3?",type:"multiple_choice",options:["0.5","1/3","Равны","Невозможно определить"],correct_answer:0,explanation:"0.5 = 1/2 = 3/6, а 1/3 = 2/6. Значит 0.5 > 1/3"}]},{id:"test-2",title:"История России - 19 век",subject:"history",difficulty:"easy",time_limit:1200,questions:[{id:"q1",question:"В каком году была отменена крепостное право в России?",type:"multiple_choice",options:["1861","1860","1862","1859"],correct_answer:0,explanation:"Крепостное право было отменено Александром II в 1861 году"},{id:"q2",question:"Кто был императором России в начале 19 века?",type:"multiple_choice",options:["Александр I","Николай I","Александр II","Павел I"],correct_answer:0,explanation:"Александр I правил с 1801 по 1825 год"}]},{id:"test-3",title:"Физика - Механика",subject:"physics",difficulty:"hard",time_limit:2400,questions:[{id:"q1",question:"Второй закон Ньютона формулируется как:",type:"multiple_choice",options:["F = ma","F = mv","F = mg","F = ma²"],correct_answer:0,explanation:"Второй закон Ньютона: сила равна произведению массы на ускорение"},{id:"q2",question:"Единица измерения силы в СИ:",type:"multiple_choice",options:["Ньютон","Джоуль","Ватт","Паскаль"],correct_answer:0,explanation:"Сила измеряется в ньютонах (Н) в системе СИ"}]}].forEach(r=>this.tests.set(r.id,r))}async isBackendAvailable(){try{return(await fetch("/api/health",{method:"GET",headers:{"Content-Type":"application/json"}})).ok}catch{return!1}}async login(t,r){try{if(await this.isBackendAvailable()){const o=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:r})});if(o.ok){const a=await o.json();return this.currentUser=a.user,this.authToken=a.token,localStorage.setItem("auth_token",this.authToken),a.user}}}catch{console.log("Backend login failed, using local auth")}if(t==="demo@example.com"&&r==="password123"){const o={id:"demo-user",email:"demo@example.com",name:"Demo User",role:"student",tests_completed:3,average_score:85,study_streak:5,total_study_time:180};return this.currentUser=o,this.users.set(o.id,o),o}const n={id:Date.now().toString(),email:t,name:t.split("@")[0],role:"student",tests_completed:0,average_score:0,study_streak:0,total_study_time:0};return this.currentUser=n,this.users.set(n.id,n),n}async register(t,r,n,o){try{if(await this.isBackendAvailable()){const l=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:r,name:n,role:o})});if(l.ok){const i=await l.json();return this.currentUser=i.user,i.user}}}catch{console.log("Backend registration failed, using local auth")}const a={id:Date.now().toString(),email:t,name:n,role:o,tests_completed:0,average_score:0,study_streak:0,total_study_time:0};return this.currentUser=a,this.users.set(a.id,a),a}async logout(){try{this.authToken&&await this.isBackendAvailable()&&await fetch("/api/auth/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.authToken}`}})}catch{console.log("Backend logout failed")}this.currentUser=null,this.authToken=null,localStorage.removeItem("auth_token")}getCurrentUser(){return this.currentUser}async getTests(){try{if(await this.isBackendAvailable()){const t=await fetch("/api/tests");if(t.ok)return await t.json()}}catch{console.log("Backend tests failed, using local data")}return Array.from(this.tests.values())}async getTest(t){return this.tests.get(t)}async createTest(t){const r={...t,id:`test-${Date.now()}`,created_at:new Date().toISOString()};return this.tests.set(r.id,r),r}async getQuestions(){try{if(await this.isBackendAvailable()){const r=await fetch("/api/questions");if(r.ok)return await r.json()}}catch{console.log("Backend questions failed, using local data")}const t=[];return this.tests.forEach(r=>{r.questions.forEach(n=>{t.push({...n,subject:r.subject,difficulty:r.difficulty,explanation:n.explanation,correctAnswer:typeof n.correct_answer=="number"?n.correct_answer:0})})}),Object.entries(this.customQuestionsBySubject).forEach(([r,n])=>{n.forEach(o=>{t.push({...o,subject:r,correctAnswer:typeof o.correct_answer=="number"?o.correct_answer:0})})}),t}async generateQuiz(t,r,n){try{if(await this.isBackendAvailable()){const a=await fetch("/api/ai/generate-quiz",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.authToken}`},body:JSON.stringify({subject:t,difficulty:r,count:n})});if(a.ok)return{questions:(await a.json()).questions,isDemo:!1}}}catch(a){console.error("AI quiz generation error:",a)}return await new Promise(a=>setTimeout(a,2e3)),{questions:[{id:"ai-q1",question:`Вопрос по теме "${t}" (сложность: ${r})`,type:"multiple_choice",options:["Вариант 1","Вариант 2","Вариант 3","Вариант 4"],correct_answer:0,explanation:"Это демонстрационный вопрос, сгенерированный ИИ."},{id:"ai-q2",question:`Ещё один вопрос по "${t}"`,type:"multiple_choice",options:["Ответ A","Ответ B","Ответ C","Ответ D"],correct_answer:1,explanation:"Демо-объяснение для второго вопроса."}].slice(0,n),isDemo:!0}}async generateENTQuiz(t,r){try{if(await this.isBackendAvailable()){const h={"Content-Type":"application/json"};this.authToken&&(h.Authorization=`Bearer ${this.authToken}`);const v=await fetch("/api/ai/generate-ent-quiz",{method:"POST",headers:h,body:JSON.stringify({track:t})});if(v.ok)return{questions:((await v.json()).questions||[]).map(w=>({...w,correctAnswer:typeof w.correct_answer=="number"?w.correct_answer:0})),isDemo:!1}}}catch{console.warn("ENT generator API failed, using local generator")}const{loadEntTemplate:n}=await vt(()=>Promise.resolve().then(()=>sf),void 0),a=n().tracks[t].sections,l=Math.max(1,(r==null?void 0:r.maxPerSection)??Number.POSITIVE_INFINITY),i=(h,v)=>Math.floor(Math.random()*(v-h+1))+h,d=h=>{const v=[...h];for(let b=v.length-1;b>0;b--){const y=Math.floor(Math.random()*(b+1));[v[b],v[y]]=[v[y],v[b]]}return v},u=(h,v,b,y,w)=>({id:`ent-${Date.now()}-${Math.random().toString(36).slice(2)}`,question:h,type:"multiple_choice",options:v,correct_answer:b,correctAnswer:b,explanation:y,subject:w,difficulty:"medium"}),f=h=>{const v=[u("Когда была принята первая Конституция Республики Казахстан?",["1991","1993","1995","1998"],1,"Первая Конституция независимого Казахстана была принята в 1993 году.","history_kz"),u("Столицей Казахстана с 1997 года является:",["Алматы","Астана (Нур-Султан)","Шымкент","Караганда"],1,"Столица была перенесена из Алматы в Акмолу (ныне Астана) в 1997 году.","history_kz"),u("Кто является автором гимна Республики Казахстан (слова, 2006)?",["Н. Назарбаев и Ж. Нажмеденов","А. Байтұрсынұлы","М. Әуезов","А. Кунаев"],0,"Слова современного гимна написали Н. Назарбаев и Ж. Нажмеденов.","history_kz")],b=[];for(;b.length<h;)b.push(v[b.length%v.length]);return b},m=h=>{const y=[()=>{const w=i(2e3,1e4),j=[5,10,15,20][i(0,3)],S=Math.round(w*(1-j/100)),C=[S+i(50,250),S-i(50,250),Math.round(w*(j/100))],N=d([S,...C]).map(String),A=N.indexOf(String(S));return u(`Товар стоит ${w} тг. Скидка ${j}%. Какова новая цена?`,N,A,`Новая цена = ${w} × (1 − ${j}/100) = ${S} тг`,"math_literacy")},()=>{const w=i(2,9),j=i(2,9),S=i(20,60),C=w+j,N=Math.round(w/C*S),A=d([N,N+1,Math.max(0,N-1),N+2]).map(String),T=A.indexOf(String(N));return u(`В классе соотношение мальчиков и девочек ${w}:${j}. Всего ${S} учеников. Сколько мальчиков?`,A,T,`Доля мальчиков = ${w}/(${w}+${j}) · ${S} = ${N}.`,"math_literacy")}];return Array.from({length:h},()=>y[i(0,y.length-1)]())},p=h=>{const v=()=>{const _=i(2,7),P=i(-9,9),E=i(-10,20),M=(E-P)/_,R=Number.isInteger(M)?M:+M.toFixed(2),B=[R+1,R-1,R+2].map(O=>String(O)),I=d([String(R),...B]),D=I.indexOf(String(R));return u(`Решите уравнение: ${_}x ${P>=0?"+ "+P:"- "+Math.abs(P)} = ${E}`,I,D,`x = (${E} − ${P}) / ${_} = ${R}`,"math_profile")},b=()=>{const _=i(-5,5),P=i(-5,5),E=-(_+P),M=_*P,R=`Найдите корни уравнения: x^2 ${E>=0?"+ "+E:"- "+Math.abs(E)}x ${M>=0?"+ "+M:"- "+Math.abs(M)} = 0`,B=`{${Math.min(_,P)}; ${Math.max(_,P)}}`,I=d([B,`{${_}; ${_}}`,`{${P}; ${P}}`,"{0; 0}"]),D=I.indexOf(B);return u(R,I,D,"Коэффициенты соответствуют (x − r1)(x − r2) = 0.","math_profile")},y=()=>u("Производная функции в точке — это:",["Предел отношения приращений функции и аргумента","Средняя скорость изменения функции","Интеграл функции","Значение функции в точке"],0,"Определение производной через предел отношения приращений.","math_profile"),w=()=>{const _=i(1,3),E=[...["верно A","верно B","верно C","неверно D","неверно E","неверно F"]],M=[];for(;M.length<_;){const R=i(0,2);M.includes(R)||M.push(R)}return{id:`ent-${Date.now()}-${Math.random().toString(36).slice(2)}`,question:"Выберите все верные утверждения (демо)",type:"multi_select",options:E,correct_answer:M,correctAnswer:0,explanation:"1–3 верных утверждений среди первых трёх пунктов.",subject:"math_profile",difficulty:"hard"}},j=[v,b,y],S=[w],C=Math.min(30,h),N=Math.max(0,h-C),A=Array.from({length:C},()=>j[i(0,j.length-1)]()),T=Array.from({length:N},()=>S[i(0,S.length-1)]());return[...A,...T]},g=h=>{const v=()=>u("Второй закон Ньютона формулируется как:",["F = ma","F = mv","F = mg","F = ma²"],0,"Сила равна произведению массы на ускорение.","physics_profile"),b=()=>u("Единица измерения энергии в СИ:",["Джоуль","Ньютон","Ватт","Паскаль"],0,"Энергия измеряется в Джоулях (J).","physics_profile"),y=()=>{const _=i(5,20),P=i(2,10),E=_*P,M=d([E,E+i(1,5),Math.max(0,E-i(1,5)),E+2]).map(String),R=M.indexOf(String(E));return u(`Тело движется равномерно со скоростью ${_} м/с в течение ${P} с. Какой путь пройден?`,M,R,`s = v·t = ${_}·${P} = ${E} м`,"physics_profile")},w=()=>{const _=["Вакуум проводит ток","Закон Ома: I = U/R","Единица мощности — Вт","Энергия в Н","Сопротивление в Ом","W = U·I"],P=[1,2,4];return{id:`ent-${Date.now()}-${Math.random().toString(36).slice(2)}`,question:"Выберите все верные утверждения (демо, физика)",type:"multi_select",options:_,correct_answer:P,correctAnswer:0,explanation:"Выберите корректные утверждения из списка.",subject:"physics_profile",difficulty:"hard"}},j=[v,b,y],S=[w],C=Math.min(30,h),N=Math.max(0,h-C),A=Array.from({length:C},()=>j[i(0,j.length-1)]()),T=Array.from({length:N},()=>S[i(0,S.length-1)]());return[...A,...T]},x=[];for(const h of a){const v=Math.min(h.numQuestions,l);if(h.key==="history_kz"){const b=(this.customQuestionsBySubject.history_kz||[]).slice(0,v);x.push(...b.length?b:f(v))}else if(h.key==="math_literacy"){const b=(this.customQuestionsBySubject.math_literacy||[]).slice(0,v);x.push(...b.length?b:m(v))}else if(h.key==="math_profile"){const b=(this.customQuestionsBySubject.math_profile||[]).slice(0,v);x.push(...b.length?b:p(v))}else if(h.key==="physics_profile"){const b=(this.customQuestionsBySubject.physics_profile||[]).slice(0,v);x.push(...b.length?b:g(v))}}return{questions:x,isDemo:!0}}async importENTQuestions(t,r){this.customQuestionsBySubject[t]||(this.customQuestionsBySubject[t]=[]);const n=r.map(o=>({...o,correctAnswer:typeof o.correct_answer=="number"?o.correct_answer:0,subject:t}));return this.customQuestionsBySubject[t].push(...n),this.customQuestionsBySubject[t].length}async submitTest(t){try{if(await this.isBackendAvailable()&&(await fetch("/api/tests/submit",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.authToken}`},body:JSON.stringify(t)})).ok)return}catch{console.log("Backend submit failed, storing locally")}if(this.currentUser){const r={id:`result-${Date.now()}`,user_id:this.currentUser.id,test_id:`test-${t.subject}`,answers:t.answers,score:t.score/t.total*100,time_spent:t.timeSpent,completed_at:new Date().toISOString()};this.results.set(r.id,r);const n=this.users.get(this.currentUser.id);n&&(n.tests_completed=(n.tests_completed||0)+1,n.average_score=n.tests_completed>1?Math.round(((n.average_score||0)*(n.tests_completed-1)+t.score/t.total*100)/n.tests_completed):Math.round(t.score/t.total*100),n.total_study_time=(n.total_study_time||0)+Math.round(t.timeSpent/60),this.users.set(n.id,n),this.currentUser=n)}}async submitTestResult(t,r,n,o){if(!this.currentUser)throw new Error("User not authenticated");const a={id:`result-${Date.now()}`,user_id:this.currentUser.id,test_id:t,answers:r,score:n,time_spent:o,completed_at:new Date().toISOString()};this.results.set(a.id,a);const l=this.users.get(this.currentUser.id);return l&&(l.tests_completed=(l.tests_completed||0)+1,l.average_score=l.tests_completed>1?Math.round(((l.average_score||0)*(l.tests_completed-1)+n)/l.tests_completed):n,l.total_study_time=(l.total_study_time||0)+Math.round(o/60),this.users.set(l.id,l),this.currentUser=l),a}async getResults(t){var n;const r=t||((n=this.currentUser)==null?void 0:n.id);return r?Array.from(this.results.values()).filter(o=>o.user_id===r):[]}async getUserStats(){const t=this.currentUser,r=await this.getResults();if(!t)throw new Error("User not authenticated");const n=r.length,o=n>0?Math.round(r.reduce((g,x)=>g+x.score,0)/n):0;let a=0,l=0;r.forEach(g=>{g.answers&&Array.isArray(g.answers)&&(a+=g.answers.length,l+=g.answers.filter(x=>x.correct).length)});const i=r.reduce((g,x)=>g+x.time_spent,0);let d=0;const u=r.sort((g,x)=>new Date(x.completed_at).getTime()-new Date(g.completed_at).getTime());for(const g of u)if(g.score>=60)d++;else break;let f="Начинающий";o>=90?f="Эксперт":o>=80?f="Продвинутый":o>=70?f="Средний":o>=60&&(f="Развивающийся");const m=[];n>=1&&m.push("Первый тест"),n>=5&&m.push("Активный ученик"),n>=10&&m.push("Настойчивый"),d>=3&&m.push("Серия побед"),o>=90&&m.push("Отличник"),i>=3600&&m.push("Час изучения");const p=u.slice(0,5).map(g=>({subject:g.test_id.replace("test-",""),score:Math.round(g.score/100*10),total:10,percentage:Math.round(g.score),completedAt:g.completed_at}));return{testsCompleted:n,averageScore:o,totalQuestions:a,correctAnswers:l,studyTime:i,streak:d,rank:f,achievements:m,recentTests:p}}async getAnalytics(t){const r=await this.getResults(t),n=this.currentUser;if(!r.length)return{totalTests:0,averageScore:0,recentActivity:[],progressTrend:[],studyStreak:(n==null?void 0:n.study_streak)||0,totalStudyTime:(n==null?void 0:n.total_study_time)||0};const o=r.length,a=Math.round(r.reduce((f,m)=>f+m.score,0)/o),l=r.sort((f,m)=>new Date(m.completed_at).getTime()-new Date(f.completed_at).getTime()).slice(0,10),i=new Date;i.setDate(i.getDate()-30);const u=r.filter(f=>new Date(f.completed_at)>=i).map(f=>({date:f.completed_at.split("T")[0],score:f.score}));return{totalTests:o,averageScore:a,recentActivity:l,progressTrend:u,studyStreak:(n==null?void 0:n.study_streak)||0,totalStudyTime:(n==null?void 0:n.total_study_time)||0}}async sendAIMessage(t,r,n){try{if(await this.isBackendAvailable()){const o={"Content-Type":"application/json"};this.authToken&&(o.Authorization=`Bearer ${this.authToken}`);const a=localStorage.getItem("deepseek_api_key");a&&(o["x-deepseek-api-key"]=a);const l=localStorage.getItem("gemini_api_key");l&&(o["x-gemini-api-key"]=l);const i=await fetch("/api/ai/chat",{method:"POST",headers:o,body:JSON.stringify({message:t,context:r,language:n})});if(i.ok)return{response:(await i.json()).response,isDemo:!1};if(i.status===402)return await this._generateLocalAIResponse(t,r,n)}}catch(o){console.error("AI chat error:",o)}return this._generateLocalAIResponse(t,r,n)}async chatWithAI(t,r,n){return this.sendAIMessage(t,r,n)}async _generateLocalAIResponse(t,r,n){await new Promise(f=>setTimeout(f,1e3+Math.random()*2e3));const o=n||this._detectLanguageFromText(t),a=["Отличный вопрос! Для лучшего понимания этой темы рекомендую разбить её на части и изучать постепенно.","Я вижу, что вы изучаете сложную тему. Давайте разберём её по шагам. Что именно вызывает затруднения?","Это интересная область! Попробуйте найти практические примеры — они помогут лучше усвоить материал.","Хороший подход к обучению! Не забывайте делать перерывы и повторять изученное через определённые интервалы.","Для закрепления материала рекомендую пройти дополнительные тесты по этой теме.","Помните: постоянная практика — ключ к успеху. Попробуйте решать задачи каждый день.","Если у вас есть вопросы по конкретной теме, я готов помочь с объяснениями.","Отличная работа! Продолжайте в том же духе. Какую тему изучаем дальше?"],l=["Тамаша сұрақ! Тақырыпты бөліктерге бөліп, біртіндеп оқуды ұсынамын.","Күрделі тақырыпты оқып жатырсыз екен. Қадамдап талдайық. Нақты қай жерде қиындық бар?","Өте қызық тақырып! Тәжірибелік мысалдармен байланыстыру материалды жақсы меңгеруге көмектеседі.","Оқу тәсіліңіз жақсы! Үзіліс жасап, қайталауды ұмытпаңыз.","Материалды бекіту үшін осы тақырып бойынша қосымша тесттерді орындаңыз.","Үздіксіз тәжірибе — табыстың кілті. Күн сайын тапсырмалар шешуге тырысыңыз.","Егер нақты тақырып бойынша сұрақтар болса, түсіндіруге дайынмын.","Жұмысыңыз жақсы! Сол қалпында жалғастыра беріңіз. Келесі тақырып қандай?"],i=t.toLowerCase();let d="";const u="ANALYZE_TEST_RESULTS:";if(r&&r.includes(u))try{const f=r.substring(r.indexOf(u)+u.length).trim(),m=JSON.parse(f),p=o==="kz"?"Тест нәтижелерінің талдауы":"Анализ результатов теста",g=o==="kz"?"Күшті жақтары":"Сильные стороны",x=o==="kz"?"Әлсіз жақтары":"Слабые стороны",h=o==="kz"?"Үй жұмысы":"Домашнее задание",v=o==="kz"?"Ұсынылатын тақырыптар":"Рекомендуемые темы",b=o==="kz"?`Ұпай: ${m.percentage}% (${m.correct}/${m.total})`:`Баллы: ${m.percentage}% (${m.correct}/${m.total})`,y=m.timeSpent?o==="kz"?`Уақыт: ${Math.round(m.timeSpent/60)} мин`:`Время: ${Math.round(m.timeSpent/60)} мин`:"",w=j=>j.map(S=>`- ${S}`).join(`
`);return d=`${p}
${b}${y?`
${y}`:""}

${g}:
${w(m.strengths||[])}

${x}:
${w(m.weaknesses||[])}

${h}:
${w(m.homework||[])}

${v}:
${w(m.topics||[])}`,{response:d,isDemo:!0}}catch{}if(i.includes("математика")||i.includes("алгебра"))d=o==="kz"?"Математика тұрақты тәжірибені талап етеді. Қарапайым мысалдардан бастап күн сайын есеп шығарыңыз.":"Математика требует постоянной практики. Рекомендую решать задачи каждый день, начиная с простых примеров.";else if(i.includes("физика")||i.includes("физика"))d=o==="kz"?"Физика — табиғат заңдарын түсіну. Теорияны өмірдегі мысалдармен байланыстырып көріңіз.":"Физика — это понимание законов природы. Попробуйте связать теорию с практическими примерами из жизни.";else if(i.includes("история")||i.includes("тарих"))d=o==="kz"?"Тарих қазіргі уақытты түсінуге көмектеседі. Даталар мен оқиғаларды жақсы есте сақтау үшін уақыт сызықтарын жасаңыз.":"История помогает понять настоящее. Создайте временные линии для лучшего запоминания дат и событий.";else if(i.includes("как")||i.includes("помощь")||i.includes("совет")||i.includes("қалай")||i.includes("көмек")||i.includes("кеңес"))d=o==="kz"?"Көмек беруге әрқашан дайынмын! Нақты мәселені сипаттаңыз, бірге шешім табамыз.":"Я всегда готов помочь! Опишите конкретную проблему, и мы найдём решение вместе.";else if(r&&this.currentUser){const f=o==="kz"?`${this.currentUser.name}, прогрессіңізге қарағанда (${this.currentUser.tests_completed||0} тест, орташа ұпай ${this.currentUser.average_score||0}%), жақсы алға жылжып жатырсыз!`:`${this.currentUser.name}, судя по вашему прогрессу (${this.currentUser.tests_completed||0} тестов, средний балл ${this.currentUser.average_score||0}%), вы хорошо продвигаетесь в обучении!`,m=o==="kz"?l:a;d=`${f} ${m[Math.floor(Math.random()*m.length)]}`}else{const f=o==="kz"?l:a;d=f[Math.floor(Math.random()*f.length)]}return{response:d,isDemo:!0}}_detectLanguageFromText(t){const r=/[әғқңөұүһі]/i,n=/(сәлем|қалай|ия|жоқ|үй|тапсырма|талдау)/i;return r.test(t)||n.test(t)?"kz":"ru"}}const we=new Pl,Ks=c.createContext(void 0),kl=({children:e})=>{const[t,r]=c.useState(null),[n,o]=c.useState(!0);c.useEffect(()=>{(()=>{try{const m=localStorage.getItem("demo-user");if(m){const p=JSON.parse(m);r(p)}}catch(m){console.error("Error loading stored user:",m)}finally{o(!1)}})()},[]);const u={user:t,isLoading:n,login:async(f,m)=>{o(!0);try{const p=await we.login(f,m);r(p),localStorage.setItem("demo-user",JSON.stringify(p))}catch(p){throw new Error(p.message||"Ошибка входа")}finally{o(!1)}},register:async(f,m,p,g)=>{o(!0);try{const x=await we.register(f,m,p,g);r(x),localStorage.setItem("demo-user",JSON.stringify(x))}catch(x){throw new Error(x.message||"Ошибка регистрации")}finally{o(!1)}},logout:async()=>{o(!0);try{await we.logout(),r(null),localStorage.removeItem("demo-user")}catch(f){console.error("Logout error:",f)}finally{o(!1)}},refreshProfile:async()=>{if(t)try{const f=we.getCurrentUser();f&&(r(f),localStorage.setItem("demo-user",JSON.stringify(f)))}catch(f){console.error("Error refreshing profile:",f)}}};return s.jsx(Ks.Provider,{value:u,children:e})},$t=()=>{const e=c.useContext(Ks);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},qs=c.createContext(void 0),Rl={ru:{"nav.home":"Главная","nav.tests":"Тесты","nav.profile":"Профиль","nav.admin":"Админ","nav.logout":"Выйти","nav.login":"Войти","nav.register":"Регистрация","auth.login":"Вход в систему","auth.register":"Регистрация","auth.email":"Email","auth.password":"Пароль","auth.name":"Имя","auth.role":"Роль","auth.student":"Ученик","auth.teacher":"Учитель","auth.tutor":"Репетитор","auth.submit":"Подтвердить","auth.switchToLogin":"Уже есть аккаунт? Войти","auth.switchToRegister":"Нет аккаунта? Зарегистрироваться","auth.insufficientPermissions":"Недостаточно прав доступа","home.title":"Образовательная платформа","home.subtitle":"Изучайте, тестируйтесь, развивайтесь","home.startTesting":"Начать тестирование","home.features.title":"Возможности платформы","home.features.tests":"Интерактивные тесты","home.features.progress":"Отслеживание прогресса","home.features.ai":"ИИ-помощник","tests.title":"Тесты","tests.start":"Начать тест","tests.question":"Вопрос","tests.next":"Далее","tests.submit":"Отправить","tests.results":"Результаты","tests.score":"Результат","tests.correct":"Правильно","tests.incorrect":"Неправильно","tests.timeLeft":"Осталось времени","tests.practiceMode":"Режим практики","tests.timedMode":"Тест на время","tests.aiMode":"ИИ тест","tests.generateAI":"Создать ИИ тест","tests.showExplanations":"Показать объяснения","tests.hideExplanations":"Скрыть объяснения","tests.retakeTest":"Пройти еще раз","tests.explanation":"Объяснение","profile.title":"Профиль","profile.statistics":"Статистика","profile.testsCompleted":"Тестов завершено","profile.averageScore":"Средний балл","profile.progress":"Прогресс","profile.achievements":"Достижения","profile.rank":"Уровень","profile.streak":"Серия побед","profile.studyTime":"Время обучения","profile.recentTests":"Последние тесты","admin.title":"Панель администратора","admin.addQuestion":"Добавить вопрос","admin.questionText":"Текст вопроса","admin.answers":"Варианты ответов","admin.correctAnswer":"Правильный ответ","admin.save":"Сохранить","admin.questions":"Вопросы","admin.edit":"Редактировать","admin.delete":"Удалить","admin.subject":"Предмет","admin.difficulty":"Сложность","admin.totalQuestions":"Всего вопросов","admin.totalUsers":"Всего пользователей","admin.totalTests":"Всего тестов","ai.title":"ИИ Помощник","ai.placeholder":"Задайте вопрос или опишите, с чем нужна помощь...","ai.quickActions":"Быстрые действия","ai.explainTopic":"Объясни тему","ai.testPrep":"Подготовка к тесту","ai.askQuestion":"Задать вопрос","ai.studyTips":"Советы по учебе","ai.typing":"ИИ печатает...","ai.error":"Ошибка при обращении к ИИ","ai.features.explain":"Объяснение сложных тем","ai.features.testPrep":"Подготовка к тестам","ai.features.questions":"Ответы на вопросы","ai.features.tips":"Советы по обучению","common.loading":"Загрузка...","common.error":"Ошибка","common.success":"Успешно","common.cancel":"Отмена","common.confirm":"Подтвердить","common.language":"Язык","common.save":"Сохранить","common.delete":"Удалить","common.edit":"Редактировать","common.add":"Добавить","common.search":"Поиск","common.filter":"Фильтр","common.sort":"Сортировка","common.close":"Закрыть","common.open":"Открыть","common.show":"Показать","common.hide":"Скрыть"},kz:{"nav.home":"Басты бет","nav.tests":"Тесттер","nav.profile":"Профиль","nav.admin":"Админ","nav.logout":"Шығу","nav.login":"Кіру","nav.register":"Тіркелу","auth.login":"Жүйеге кіру","auth.register":"Тіркелу","auth.email":"Электрондық пошта","auth.password":"Құпия сөз","auth.name":"Аты","auth.role":"Рөлі","auth.student":"Оқушы","auth.teacher":"Мұғалім","auth.tutor":"Тәлімгер","auth.submit":"Растау","auth.switchToLogin":"Аккаунт бар ма? Кіру","auth.switchToRegister":"Аккаунт жоқ па? Тіркелу","auth.insufficientPermissions":"Қол жетімділік құқығы жеткіліксіз","home.title":"Білім беру платформасы","home.subtitle":"Үйреніңіз, тест тапсырыңыз, дамыңыз","home.startTesting":"Тестілеуді бастау","home.features.title":"Платформа мүмкіндіктері","home.features.tests":"Интерактивті тесттер","home.features.progress":"Прогресті бақылау","home.features.ai":"ИИ-көмекші","tests.title":"Тесттер","tests.start":"Тестті бастау","tests.question":"Сұрақ","tests.next":"Келесі","tests.submit":"Жіберу","tests.results":"Нәтижелер","tests.score":"Нәтиже","tests.correct":"Дұрыс","tests.incorrect":"Қате","tests.timeLeft":"Қалған уақыт","tests.practiceMode":"Практика режимі","tests.timedMode":"Уақытпен тест","tests.aiMode":"ИИ тест","tests.generateAI":"ИИ тест жасау","tests.showExplanations":"Түсініктемелерді көрсету","tests.hideExplanations":"Түсініктемелерді жасыру","tests.retakeTest":"Қайта тапсыру","tests.explanation":"Түсініктеме","profile.title":"Профиль","profile.statistics":"Статистика","profile.testsCompleted":"Аяқталған тесттер","profile.averageScore":"Орташа ұпай","profile.progress":"Прогресс","profile.achievements":"Жетістіктер","profile.rank":"Деңгей","profile.streak":"Жеңістер сериясы","profile.studyTime":"Оқу уақыты","profile.recentTests":"Соңғы тесттер","admin.title":"Әкімші панелі","admin.addQuestion":"Сұрақ қосу","admin.questionText":"Сұрақ мәтіні","admin.answers":"Жауап нұсқалары","admin.correctAnswer":"Дұрыс жауап","admin.save":"Сақтау","admin.questions":"Сұрақтар","admin.edit":"Өңдеу","admin.delete":"Жою","admin.subject":"Пән","admin.difficulty":"Қиындық","admin.totalQuestions":"Барлық сұрақтар","admin.totalUsers":"Барлық пайдаланушылар","admin.totalTests":"Барлық тесттер","ai.title":"ИИ Көмекші","ai.placeholder":"Сұрақ қойыңыз немесе көмек керек екенін айтыңыз...","ai.quickActions":"Жылдам әрекеттер","ai.explainTopic":"Тақырыпты түсіндіру","ai.testPrep":"Тестке дайындық","ai.askQuestion":"Сұрақ қою","ai.studyTips":"Оқу кеңестері","ai.typing":"ИИ жазуда...","ai.error":"ИИ-ға жүгінуде қате","ai.features.explain":"Күрделі тақырыптарды түсіндіру","ai.features.testPrep":"Тесттерге дайындық","ai.features.questions":"Сұрақтарға жауап","ai.features.tips":"Оқыту бойынша кеңестер","common.loading":"Жүктелуде...","common.error":"Қате","common.success":"Сәтті","common.cancel":"Болдырмау","common.confirm":"Растау","common.language":"Тіл","common.save":"Сақтау","common.delete":"Жою","common.edit":"Өңдеу","common.add":"Қосу","common.search":"Іздеу","common.filter":"Сүзгі","common.sort":"Сұрыптау","common.close":"Жабу","common.open":"Ашу","common.show":"Көрсету","common.hide":"Жасыру"}},Ml=({children:e})=>{const[t,r]=c.useState(()=>localStorage.getItem("language")||"ru");c.useEffect(()=>{localStorage.setItem("language",t)},[t]);const n=o=>Rl[t][o]||o;return s.jsx(qs.Provider,{value:{language:t,setLanguage:r,t:n},children:e})},Ct=()=>{const e=c.useContext(qs);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e};function ce({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:te("text-card-foreground flex flex-col gap-6 rounded-2xl border border-white/20 dark:border-white/10 bg-white/70 dark:bg-slate-900/40 backdrop-blur-md shadow-[0_8px_28px_-14px_rgba(0,0,0,0.28)] transition-shadow hover:shadow-[0_22px_46px_-20px_rgba(0,0,0,0.3)]",e),...t})}function pe({className:e,...t}){return s.jsx("div",{"data-slot":"card-header",className:te("grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function ge({className:e,...t}){return s.jsx("h4",{"data-slot":"card-title",className:te("leading-none",e),...t})}function de({className:e,...t}){return s.jsx("div",{"data-slot":"card-content",className:te("px-6 [&:last-child]:pb-6",e),...t})}var Il="Label",Ys=c.forwardRef((e,t)=>s.jsx(U.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Ys.displayName=Il;var Ol=Ys;function Wt({className:e,...t}){return s.jsx(Ol,{"data-slot":"label",className:te("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function Dl(e){const t=e+"CollectionProvider",[r,n]=mt(t),[o,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=h=>{const{scope:v,children:b}=h,y=Ue.useRef(null),w=Ue.useRef(new Map).current;return s.jsx(o,{scope:v,itemMap:w,collectionRef:y,children:b})};l.displayName=t;const i=e+"CollectionSlot",d=St(i),u=Ue.forwardRef((h,v)=>{const{scope:b,children:y}=h,w=a(i,b),j=X(v,w.collectionRef);return s.jsx(d,{ref:j,children:y})});u.displayName=i;const f=e+"CollectionItemSlot",m="data-radix-collection-item",p=St(f),g=Ue.forwardRef((h,v)=>{const{scope:b,children:y,...w}=h,j=Ue.useRef(null),S=X(v,j),C=a(f,b);return Ue.useEffect(()=>(C.itemMap.set(j,{ref:j,...w}),()=>void C.itemMap.delete(j))),s.jsx(p,{[m]:"",ref:S,children:y})});g.displayName=f;function x(h){const v=a(e+"CollectionConsumer",h);return Ue.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${m}]`));return Array.from(v.itemMap.values()).sort((C,N)=>w.indexOf(C.ref.current)-w.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:l,Slot:u,ItemSlot:g},x,n]}function Ll(e,t=globalThis==null?void 0:globalThis.document){const r=be(e);c.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var $l="DismissableLayer",zr="dismissableLayer.update",zl="dismissableLayer.pointerDownOutside",Bl="dismissableLayer.focusOutside",Dn,Xs=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nn=c.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:l,onDismiss:i,...d}=e,u=c.useContext(Xs),[f,m]=c.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=c.useState({}),x=X(t,N=>m(N)),h=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=h.indexOf(v),y=f?h.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=b,S=Ul(N=>{const A=N.target,T=[...u.branches].some(_=>_.contains(A));!j||T||(o==null||o(N),l==null||l(N),N.defaultPrevented||i==null||i())},p),C=Vl(N=>{const A=N.target;[...u.branches].some(_=>_.contains(A))||(a==null||a(N),l==null||l(N),N.defaultPrevented||i==null||i())},p);return Ll(N=>{y===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&i&&(N.preventDefault(),i()))},p),c.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Dn=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Ln(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Dn)}},[f,p,r,u]),c.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Ln())},[f,u]),c.useEffect(()=>{const N=()=>g({});return document.addEventListener(zr,N),()=>document.removeEventListener(zr,N)},[]),s.jsx(U.div,{...d,ref:x,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:G(e.onFocusCapture,C.onFocusCapture),onBlurCapture:G(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:G(e.onPointerDownCapture,S.onPointerDownCapture)})});nn.displayName=$l;var Fl="DismissableLayerBranch",Wl=c.forwardRef((e,t)=>{const r=c.useContext(Xs),n=c.useRef(null),o=X(t,n);return c.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(U.div,{...e,ref:o})});Wl.displayName=Fl;function Ul(e,t=globalThis==null?void 0:globalThis.document){const r=be(e),n=c.useRef(!1),o=c.useRef(()=>{});return c.useEffect(()=>{const a=i=>{if(i.target&&!n.current){let d=function(){Js(zl,r,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Vl(e,t=globalThis==null?void 0:globalThis.document){const r=be(e),n=c.useRef(!1);return c.useEffect(()=>{const o=a=>{a.target&&!n.current&&Js(Bl,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ln(){const e=new CustomEvent(zr);document.dispatchEvent(e)}function Js(e,t,r,{discrete:n}){const o=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?Ui(o,a):o.dispatchEvent(a)}var jr=0;function Zs(){c.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$n()),document.body.insertAdjacentElement("beforeend",e[1]??$n()),jr++,()=>{jr===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jr--}},[])}function $n(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Nr="focusScope.autoFocusOnMount",Cr="focusScope.autoFocusOnUnmount",zn={bubbles:!1,cancelable:!0},Hl="FocusScope",sn=c.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...l}=e,[i,d]=c.useState(null),u=be(o),f=be(a),m=c.useRef(null),p=X(t,h=>d(h)),g=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(n){let h=function(w){if(g.paused||!i)return;const j=w.target;i.contains(j)?m.current=j:Ye(m.current,{select:!0})},v=function(w){if(g.paused||!i)return;const j=w.relatedTarget;j!==null&&(i.contains(j)||Ye(m.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Ye(i)};document.addEventListener("focusin",h),document.addEventListener("focusout",v);const y=new MutationObserver(b);return i&&y.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",v),y.disconnect()}}},[n,i,g.paused]),c.useEffect(()=>{if(i){Fn.add(g);const h=document.activeElement;if(!i.contains(h)){const b=new CustomEvent(Nr,zn);i.addEventListener(Nr,u),i.dispatchEvent(b),b.defaultPrevented||(Gl(Xl(eo(i)),{select:!0}),document.activeElement===h&&Ye(i))}return()=>{i.removeEventListener(Nr,u),setTimeout(()=>{const b=new CustomEvent(Cr,zn);i.addEventListener(Cr,f),i.dispatchEvent(b),b.defaultPrevented||Ye(h??document.body,{select:!0}),i.removeEventListener(Cr,f),Fn.remove(g)},0)}}},[i,u,f,g]);const x=c.useCallback(h=>{if(!r&&!n||g.paused)return;const v=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,b=document.activeElement;if(v&&b){const y=h.currentTarget,[w,j]=Ql(y);w&&j?!h.shiftKey&&b===j?(h.preventDefault(),r&&Ye(w,{select:!0})):h.shiftKey&&b===w&&(h.preventDefault(),r&&Ye(j,{select:!0})):b===y&&h.preventDefault()}},[r,n,g.paused]);return s.jsx(U.div,{tabIndex:-1,...l,ref:p,onKeyDown:x})});sn.displayName=Hl;function Gl(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ye(n,{select:t}),document.activeElement!==r)return}function Ql(e){const t=eo(e),r=Bn(t,e),n=Bn(t.reverse(),e);return[r,n]}function eo(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Bn(e,t){for(const r of e)if(!Kl(r,{upTo:t}))return r}function Kl(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ql(e){return e instanceof HTMLInputElement&&"select"in e}function Ye(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ql(e)&&t&&e.select()}}var Fn=Yl();function Yl(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Wn(e,t),e.unshift(t)},remove(t){var r;e=Wn(e,t),(r=e[0])==null||r.resume()}}}function Wn(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Xl(e){return e.filter(t=>t.tagName!=="A")}var Jl=ls[" useId ".trim().toString()]||(()=>{}),Zl=0;function bt(e){const[t,r]=c.useState(Jl());return ue(()=>{e||r(n=>n??String(Zl++))},[e]),e||(t?`radix-${t}`:"")}const ec=["top","right","bottom","left"],Ze=Math.min,je=Math.max,rr=Math.round,Ut=Math.floor,Le=e=>({x:e,y:e}),tc={left:"right",right:"left",bottom:"top",top:"bottom"},rc={start:"end",end:"start"};function Br(e,t,r){return je(e,Ze(t,r))}function Ve(e,t){return typeof e=="function"?e(t):e}function He(e){return e.split("-")[0]}function Et(e){return e.split("-")[1]}function on(e){return e==="x"?"y":"x"}function an(e){return e==="y"?"height":"width"}const nc=new Set(["top","bottom"]);function De(e){return nc.has(He(e))?"y":"x"}function ln(e){return on(De(e))}function sc(e,t,r){r===void 0&&(r=!1);const n=Et(e),o=ln(e),a=an(o);let l=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=nr(l)),[l,nr(l)]}function oc(e){const t=nr(e);return[Fr(e),t,Fr(t)]}function Fr(e){return e.replace(/start|end/g,t=>rc[t])}const Un=["left","right"],Vn=["right","left"],ac=["top","bottom"],ic=["bottom","top"];function lc(e,t,r){switch(e){case"top":case"bottom":return r?t?Vn:Un:t?Un:Vn;case"left":case"right":return t?ac:ic;default:return[]}}function cc(e,t,r,n){const o=Et(e);let a=lc(He(e),r==="start",n);return o&&(a=a.map(l=>l+"-"+o),t&&(a=a.concat(a.map(Fr)))),a}function nr(e){return e.replace(/left|right|bottom|top/g,t=>tc[t])}function dc(e){return{top:0,right:0,bottom:0,left:0,...e}}function to(e){return typeof e!="number"?dc(e):{top:e,right:e,bottom:e,left:e}}function sr(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function Hn(e,t,r){let{reference:n,floating:o}=e;const a=De(t),l=ln(t),i=an(l),d=He(t),u=a==="y",f=n.x+n.width/2-o.width/2,m=n.y+n.height/2-o.height/2,p=n[i]/2-o[i]/2;let g;switch(d){case"top":g={x:f,y:n.y-o.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:m};break;case"left":g={x:n.x-o.width,y:m};break;default:g={x:n.x,y:n.y}}switch(Et(t)){case"start":g[l]-=p*(r&&u?-1:1);break;case"end":g[l]+=p*(r&&u?-1:1);break}return g}const uc=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:l}=r,i=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let u=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:m}=Hn(u,n,d),p=n,g={},x=0;for(let h=0;h<i.length;h++){const{name:v,fn:b}=i[h],{x:y,y:w,data:j,reset:S}=await b({x:f,y:m,initialPlacement:n,placement:p,strategy:o,middlewareData:g,rects:u,platform:l,elements:{reference:e,floating:t}});f=y??f,m=w??m,g={...g,[v]:{...g[v],...j}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(u=S.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:o}):S.rects),{x:f,y:m}=Hn(u,p,d)),h=-1)}return{x:f,y:m,placement:p,strategy:o,middlewareData:g}};async function Ot(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:a,rects:l,elements:i,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:p=!1,padding:g=0}=Ve(t,e),x=to(g),v=i[p?m==="floating"?"reference":"floating":m],b=sr(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(i.floating)),boundary:u,rootBoundary:f,strategy:d})),y=m==="floating"?{x:n,y:o,width:l.floating.width,height:l.floating.height}:l.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(i.floating)),j=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},S=sr(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:y,offsetParent:w,strategy:d}):y);return{top:(b.top-S.top+x.top)/j.y,bottom:(S.bottom-b.bottom+x.bottom)/j.y,left:(b.left-S.left+x.left)/j.x,right:(S.right-b.right+x.right)/j.x}}const fc=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:a,platform:l,elements:i,middlewareData:d}=t,{element:u,padding:f=0}=Ve(e,t)||{};if(u==null)return{};const m=to(f),p={x:r,y:n},g=ln(o),x=an(g),h=await l.getDimensions(u),v=g==="y",b=v?"top":"left",y=v?"bottom":"right",w=v?"clientHeight":"clientWidth",j=a.reference[x]+a.reference[g]-p[g]-a.floating[x],S=p[g]-a.reference[g],C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let N=C?C[w]:0;(!N||!await(l.isElement==null?void 0:l.isElement(C)))&&(N=i.floating[w]||a.floating[x]);const A=j/2-S/2,T=N/2-h[x]/2-1,_=Ze(m[b],T),P=Ze(m[y],T),E=_,M=N-h[x]-P,R=N/2-h[x]/2+A,B=Br(E,R,M),I=!d.arrow&&Et(o)!=null&&R!==B&&a.reference[x]/2-(R<E?_:P)-h[x]/2<0,D=I?R<E?R-E:R-M:0;return{[g]:p[g]+D,data:{[g]:B,centerOffset:R-B-D,...I&&{alignmentOffset:D}},reset:I}}}),mc=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:a,rects:l,initialPlacement:i,platform:d,elements:u}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:h=!0,...v}=Ve(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=He(o),y=De(i),w=He(i)===i,j=await(d.isRTL==null?void 0:d.isRTL(u.floating)),S=p||(w||!h?[nr(i)]:oc(i)),C=x!=="none";!p&&C&&S.push(...cc(i,h,x,j));const N=[i,...S],A=await Ot(t,v),T=[];let _=((n=a.flip)==null?void 0:n.overflows)||[];if(f&&T.push(A[b]),m){const R=sc(o,l,j);T.push(A[R[0]],A[R[1]])}if(_=[..._,{placement:o,overflows:T}],!T.every(R=>R<=0)){var P,E;const R=(((P=a.flip)==null?void 0:P.index)||0)+1,B=N[R];if(B&&(!(m==="alignment"?y!==De(B):!1)||_.every(O=>De(O.placement)===y?O.overflows[0]>0:!0)))return{data:{index:R,overflows:_},reset:{placement:B}};let I=(E=_.filter(D=>D.overflows[0]<=0).sort((D,O)=>D.overflows[1]-O.overflows[1])[0])==null?void 0:E.placement;if(!I)switch(g){case"bestFit":{var M;const D=(M=_.filter(O=>{if(C){const F=De(O.placement);return F===y||F==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(F=>F>0).reduce((F,ne)=>F+ne,0)]).sort((O,F)=>O[1]-F[1])[0])==null?void 0:M[0];D&&(I=D);break}case"initialPlacement":I=i;break}if(o!==I)return{reset:{placement:I}}}return{}}}};function Gn(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Qn(e){return ec.some(t=>e[t]>=0)}const hc=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=Ve(e,t);switch(n){case"referenceHidden":{const a=await Ot(t,{...o,elementContext:"reference"}),l=Gn(a,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Qn(l)}}}case"escaped":{const a=await Ot(t,{...o,altBoundary:!0}),l=Gn(a,r.floating);return{data:{escapedOffsets:l,escaped:Qn(l)}}}default:return{}}}}},ro=new Set(["left","top"]);async function pc(e,t){const{placement:r,platform:n,elements:o}=e,a=await(n.isRTL==null?void 0:n.isRTL(o.floating)),l=He(r),i=Et(r),d=De(r)==="y",u=ro.has(l)?-1:1,f=a&&d?-1:1,m=Ve(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return i&&typeof x=="number"&&(g=i==="end"?x*-1:x),d?{x:g*f,y:p*u}:{x:p*u,y:g*f}}const gc=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:a,placement:l,middlewareData:i}=t,d=await pc(t,e);return l===((r=i.offset)==null?void 0:r.placement)&&(n=i.arrow)!=null&&n.alignmentOffset?{}:{x:o+d.x,y:a+d.y,data:{...d,placement:l}}}}},xc=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:i={fn:v=>{let{x:b,y}=v;return{x:b,y}}},...d}=Ve(e,t),u={x:r,y:n},f=await Ot(t,d),m=De(He(o)),p=on(m);let g=u[p],x=u[m];if(a){const v=p==="y"?"top":"left",b=p==="y"?"bottom":"right",y=g+f[v],w=g-f[b];g=Br(y,g,w)}if(l){const v=m==="y"?"top":"left",b=m==="y"?"bottom":"right",y=x+f[v],w=x-f[b];x=Br(y,x,w)}const h=i.fn({...t,[p]:g,[m]:x});return{...h,data:{x:h.x-r,y:h.y-n,enabled:{[p]:a,[m]:l}}}}}},vc=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:a,middlewareData:l}=t,{offset:i=0,mainAxis:d=!0,crossAxis:u=!0}=Ve(e,t),f={x:r,y:n},m=De(o),p=on(m);let g=f[p],x=f[m];const h=Ve(i,t),v=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(d){const w=p==="y"?"height":"width",j=a.reference[p]-a.floating[w]+v.mainAxis,S=a.reference[p]+a.reference[w]-v.mainAxis;g<j?g=j:g>S&&(g=S)}if(u){var b,y;const w=p==="y"?"width":"height",j=ro.has(He(o)),S=a.reference[m]-a.floating[w]+(j&&((b=l.offset)==null?void 0:b[m])||0)+(j?0:v.crossAxis),C=a.reference[m]+a.reference[w]+(j?0:((y=l.offset)==null?void 0:y[m])||0)-(j?v.crossAxis:0);x<S?x=S:x>C&&(x=C)}return{[p]:g,[m]:x}}}},bc=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:a,platform:l,elements:i}=t,{apply:d=()=>{},...u}=Ve(e,t),f=await Ot(t,u),m=He(o),p=Et(o),g=De(o)==="y",{width:x,height:h}=a.floating;let v,b;m==="top"||m==="bottom"?(v=m,b=p===(await(l.isRTL==null?void 0:l.isRTL(i.floating))?"start":"end")?"left":"right"):(b=m,v=p==="end"?"top":"bottom");const y=h-f.top-f.bottom,w=x-f.left-f.right,j=Ze(h-f[v],y),S=Ze(x-f[b],w),C=!t.middlewareData.shift;let N=j,A=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=y),C&&!p){const _=je(f.left,0),P=je(f.right,0),E=je(f.top,0),M=je(f.bottom,0);g?A=x-2*(_!==0||P!==0?_+P:je(f.left,f.right)):N=h-2*(E!==0||M!==0?E+M:je(f.top,f.bottom))}await d({...t,availableWidth:A,availableHeight:N});const T=await l.getDimensions(i.floating);return x!==T.width||h!==T.height?{reset:{rects:!0}}:{}}}};function mr(){return typeof window<"u"}function At(e){return no(e)?(e.nodeName||"").toLowerCase():"#document"}function Ne(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Be(e){var t;return(t=(no(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function no(e){return mr()?e instanceof Node||e instanceof Ne(e).Node:!1}function Pe(e){return mr()?e instanceof Element||e instanceof Ne(e).Element:!1}function $e(e){return mr()?e instanceof HTMLElement||e instanceof Ne(e).HTMLElement:!1}function Kn(e){return!mr()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ne(e).ShadowRoot}const yc=new Set(["inline","contents"]);function zt(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=ke(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!yc.has(o)}const wc=new Set(["table","td","th"]);function Sc(e){return wc.has(At(e))}const jc=[":popover-open",":modal"];function hr(e){return jc.some(t=>{try{return e.matches(t)}catch{return!1}})}const Nc=["transform","translate","scale","rotate","perspective"],Cc=["transform","translate","scale","rotate","perspective","filter"],_c=["paint","layout","strict","content"];function cn(e){const t=dn(),r=Pe(e)?ke(e):e;return Nc.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Cc.some(n=>(r.willChange||"").includes(n))||_c.some(n=>(r.contain||"").includes(n))}function Ec(e){let t=et(e);for(;$e(t)&&!_t(t);){if(cn(t))return t;if(hr(t))return null;t=et(t)}return null}function dn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ac=new Set(["html","body","#document"]);function _t(e){return Ac.has(At(e))}function ke(e){return Ne(e).getComputedStyle(e)}function pr(e){return Pe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function et(e){if(At(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Kn(e)&&e.host||Be(e);return Kn(t)?t.host:t}function so(e){const t=et(e);return _t(t)?e.ownerDocument?e.ownerDocument.body:e.body:$e(t)&&zt(t)?t:so(t)}function Dt(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=so(e),a=o===((n=e.ownerDocument)==null?void 0:n.body),l=Ne(o);if(a){const i=Wr(l);return t.concat(l,l.visualViewport||[],zt(o)?o:[],i&&r?Dt(i):[])}return t.concat(o,Dt(o,[],r))}function Wr(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function oo(e){const t=ke(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=$e(e),a=o?e.offsetWidth:r,l=o?e.offsetHeight:n,i=rr(r)!==a||rr(n)!==l;return i&&(r=a,n=l),{width:r,height:n,$:i}}function un(e){return Pe(e)?e:e.contextElement}function yt(e){const t=un(e);if(!$e(t))return Le(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:a}=oo(t);let l=(a?rr(r.width):r.width)/n,i=(a?rr(r.height):r.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!i||!Number.isFinite(i))&&(i=1),{x:l,y:i}}const Tc=Le(0);function ao(e){const t=Ne(e);return!dn()||!t.visualViewport?Tc:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Pc(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ne(e)?!1:t}function lt(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),a=un(e);let l=Le(1);t&&(n?Pe(n)&&(l=yt(n)):l=yt(e));const i=Pc(a,r,n)?ao(a):Le(0);let d=(o.left+i.x)/l.x,u=(o.top+i.y)/l.y,f=o.width/l.x,m=o.height/l.y;if(a){const p=Ne(a),g=n&&Pe(n)?Ne(n):n;let x=p,h=Wr(x);for(;h&&n&&g!==x;){const v=yt(h),b=h.getBoundingClientRect(),y=ke(h),w=b.left+(h.clientLeft+parseFloat(y.paddingLeft))*v.x,j=b.top+(h.clientTop+parseFloat(y.paddingTop))*v.y;d*=v.x,u*=v.y,f*=v.x,m*=v.y,d+=w,u+=j,x=Ne(h),h=Wr(x)}}return sr({width:f,height:m,x:d,y:u})}function fn(e,t){const r=pr(e).scrollLeft;return t?t.left+r:lt(Be(e)).left+r}function io(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-(r?0:fn(e,n)),a=n.top+t.scrollTop;return{x:o,y:a}}function kc(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const a=o==="fixed",l=Be(n),i=t?hr(t.floating):!1;if(n===l||i&&a)return r;let d={scrollLeft:0,scrollTop:0},u=Le(1);const f=Le(0),m=$e(n);if((m||!m&&!a)&&((At(n)!=="body"||zt(l))&&(d=pr(n)),$e(n))){const g=lt(n);u=yt(n),f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}const p=l&&!m&&!a?io(l,d,!0):Le(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-d.scrollLeft*u.x+f.x+p.x,y:r.y*u.y-d.scrollTop*u.y+f.y+p.y}}function Rc(e){return Array.from(e.getClientRects())}function Mc(e){const t=Be(e),r=pr(e),n=e.ownerDocument.body,o=je(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=je(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+fn(e);const i=-r.scrollTop;return ke(n).direction==="rtl"&&(l+=je(t.clientWidth,n.clientWidth)-o),{width:o,height:a,x:l,y:i}}function Ic(e,t){const r=Ne(e),n=Be(e),o=r.visualViewport;let a=n.clientWidth,l=n.clientHeight,i=0,d=0;if(o){a=o.width,l=o.height;const u=dn();(!u||u&&t==="fixed")&&(i=o.offsetLeft,d=o.offsetTop)}return{width:a,height:l,x:i,y:d}}const Oc=new Set(["absolute","fixed"]);function Dc(e,t){const r=lt(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,a=$e(e)?yt(e):Le(1),l=e.clientWidth*a.x,i=e.clientHeight*a.y,d=o*a.x,u=n*a.y;return{width:l,height:i,x:d,y:u}}function qn(e,t,r){let n;if(t==="viewport")n=Ic(e,r);else if(t==="document")n=Mc(Be(e));else if(Pe(t))n=Dc(t,r);else{const o=ao(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return sr(n)}function lo(e,t){const r=et(e);return r===t||!Pe(r)||_t(r)?!1:ke(r).position==="fixed"||lo(r,t)}function Lc(e,t){const r=t.get(e);if(r)return r;let n=Dt(e,[],!1).filter(i=>Pe(i)&&At(i)!=="body"),o=null;const a=ke(e).position==="fixed";let l=a?et(e):e;for(;Pe(l)&&!_t(l);){const i=ke(l),d=cn(l);!d&&i.position==="fixed"&&(o=null),(a?!d&&!o:!d&&i.position==="static"&&!!o&&Oc.has(o.position)||zt(l)&&!d&&lo(e,l))?n=n.filter(f=>f!==l):o=i,l=et(l)}return t.set(e,n),n}function $c(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const l=[...r==="clippingAncestors"?hr(t)?[]:Lc(t,this._c):[].concat(r),n],i=l[0],d=l.reduce((u,f)=>{const m=qn(t,f,o);return u.top=je(m.top,u.top),u.right=Ze(m.right,u.right),u.bottom=Ze(m.bottom,u.bottom),u.left=je(m.left,u.left),u},qn(t,i,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function zc(e){const{width:t,height:r}=oo(e);return{width:t,height:r}}function Bc(e,t,r){const n=$e(t),o=Be(t),a=r==="fixed",l=lt(e,!0,a,t);let i={scrollLeft:0,scrollTop:0};const d=Le(0);function u(){d.x=fn(o)}if(n||!n&&!a)if((At(t)!=="body"||zt(o))&&(i=pr(t)),n){const g=lt(t,!0,a,t);d.x=g.x+t.clientLeft,d.y=g.y+t.clientTop}else o&&u();a&&!n&&o&&u();const f=o&&!n&&!a?io(o,i):Le(0),m=l.left+i.scrollLeft-d.x-f.x,p=l.top+i.scrollTop-d.y-f.y;return{x:m,y:p,width:l.width,height:l.height}}function _r(e){return ke(e).position==="static"}function Yn(e,t){if(!$e(e)||ke(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Be(e)===r&&(r=r.ownerDocument.body),r}function co(e,t){const r=Ne(e);if(hr(e))return r;if(!$e(e)){let o=et(e);for(;o&&!_t(o);){if(Pe(o)&&!_r(o))return o;o=et(o)}return r}let n=Yn(e,t);for(;n&&Sc(n)&&_r(n);)n=Yn(n,t);return n&&_t(n)&&_r(n)&&!cn(n)?r:n||Ec(e)||r}const Fc=async function(e){const t=this.getOffsetParent||co,r=this.getDimensions,n=await r(e.floating);return{reference:Bc(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Wc(e){return ke(e).direction==="rtl"}const Uc={convertOffsetParentRelativeRectToViewportRelativeRect:kc,getDocumentElement:Be,getClippingRect:$c,getOffsetParent:co,getElementRects:Fc,getClientRects:Rc,getDimensions:zc,getScale:yt,isElement:Pe,isRTL:Wc};function uo(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Vc(e,t){let r=null,n;const o=Be(e);function a(){var i;clearTimeout(n),(i=r)==null||i.disconnect(),r=null}function l(i,d){i===void 0&&(i=!1),d===void 0&&(d=1),a();const u=e.getBoundingClientRect(),{left:f,top:m,width:p,height:g}=u;if(i||t(),!p||!g)return;const x=Ut(m),h=Ut(o.clientWidth-(f+p)),v=Ut(o.clientHeight-(m+g)),b=Ut(f),w={rootMargin:-x+"px "+-h+"px "+-v+"px "+-b+"px",threshold:je(0,Ze(1,d))||1};let j=!0;function S(C){const N=C[0].intersectionRatio;if(N!==d){if(!j)return l();N?l(!1,N):n=setTimeout(()=>{l(!1,1e-7)},1e3)}N===1&&!uo(u,e.getBoundingClientRect())&&l(),j=!1}try{r=new IntersectionObserver(S,{...w,root:o.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return l(!0),a}function Hc(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,u=un(e),f=o||a?[...u?Dt(u):[],...Dt(t)]:[];f.forEach(b=>{o&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const m=u&&i?Vc(u,r):null;let p=-1,g=null;l&&(g=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(t)})),r()}),u&&!d&&g.observe(u),g.observe(t));let x,h=d?lt(e):null;d&&v();function v(){const b=lt(e);h&&!uo(h,b)&&r(),h=b,x=requestAnimationFrame(v)}return r(),()=>{var b;f.forEach(y=>{o&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),m==null||m(),(b=g)==null||b.disconnect(),g=null,d&&cancelAnimationFrame(x)}}const Gc=gc,Qc=xc,Kc=mc,qc=bc,Yc=hc,Xn=fc,Xc=vc,Jc=(e,t,r)=>{const n=new Map,o={platform:Uc,...r},a={...o.platform,_c:n};return uc(e,t,{...o,platform:a})};var Zc=typeof document<"u",ed=function(){},qt=Zc?c.useLayoutEffect:ed;function or(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!or(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const a=o[n];if(!(a==="_owner"&&e.$$typeof)&&!or(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function fo(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Jn(e,t){const r=fo(e);return Math.round(t*r)/r}function Er(e){const t=c.useRef(e);return qt(()=>{t.current=e}),t}function td(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:l}={},transform:i=!0,whileElementsMounted:d,open:u}=e,[f,m]=c.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,g]=c.useState(n);or(p,n)||g(n);const[x,h]=c.useState(null),[v,b]=c.useState(null),y=c.useCallback(O=>{O!==C.current&&(C.current=O,h(O))},[]),w=c.useCallback(O=>{O!==N.current&&(N.current=O,b(O))},[]),j=a||x,S=l||v,C=c.useRef(null),N=c.useRef(null),A=c.useRef(f),T=d!=null,_=Er(d),P=Er(o),E=Er(u),M=c.useCallback(()=>{if(!C.current||!N.current)return;const O={placement:t,strategy:r,middleware:p};P.current&&(O.platform=P.current),Jc(C.current,N.current,O).then(F=>{const ne={...F,isPositioned:E.current!==!1};R.current&&!or(A.current,ne)&&(A.current=ne,Lt.flushSync(()=>{m(ne)}))})},[p,t,r,P,E]);qt(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,m(O=>({...O,isPositioned:!1})))},[u]);const R=c.useRef(!1);qt(()=>(R.current=!0,()=>{R.current=!1}),[]),qt(()=>{if(j&&(C.current=j),S&&(N.current=S),j&&S){if(_.current)return _.current(j,S,M);M()}},[j,S,M,_,T]);const B=c.useMemo(()=>({reference:C,floating:N,setReference:y,setFloating:w}),[y,w]),I=c.useMemo(()=>({reference:j,floating:S}),[j,S]),D=c.useMemo(()=>{const O={position:r,left:0,top:0};if(!I.floating)return O;const F=Jn(I.floating,f.x),ne=Jn(I.floating,f.y);return i?{...O,transform:"translate("+F+"px, "+ne+"px)",...fo(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:ne}},[r,i,I.floating,f.x,f.y]);return c.useMemo(()=>({...f,update:M,refs:B,elements:I,floatingStyles:D}),[f,M,B,I,D])}const rd=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Xn({element:n.current,padding:o}).fn(r):{}:n?Xn({element:n,padding:o}).fn(r):{}}}},nd=(e,t)=>({...Gc(e),options:[e,t]}),sd=(e,t)=>({...Qc(e),options:[e,t]}),od=(e,t)=>({...Xc(e),options:[e,t]}),ad=(e,t)=>({...Kc(e),options:[e,t]}),id=(e,t)=>({...qc(e),options:[e,t]}),ld=(e,t)=>({...Yc(e),options:[e,t]}),cd=(e,t)=>({...rd(e),options:[e,t]});var dd="Arrow",mo=c.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...a}=e;return s.jsx(U.svg,{...a,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});mo.displayName=dd;var ud=mo;function fd(e){const[t,r]=c.useState(void 0);return ue(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,i;if("borderBoxSize"in a){const d=a.borderBoxSize,u=Array.isArray(d)?d[0]:d;l=u.inlineSize,i=u.blockSize}else l=e.offsetWidth,i=e.offsetHeight;r({width:l,height:i})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var mn="Popper",[ho,po]=mt(mn),[md,go]=ho(mn),xo=e=>{const{__scopePopper:t,children:r}=e,[n,o]=c.useState(null);return s.jsx(md,{scope:t,anchor:n,onAnchorChange:o,children:r})};xo.displayName=mn;var vo="PopperAnchor",bo=c.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,a=go(vo,r),l=c.useRef(null),i=X(t,l);return c.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:s.jsx(U.div,{...o,ref:i})});bo.displayName=vo;var hn="PopperContent",[hd,pd]=ho(hn),yo=c.forwardRef((e,t)=>{var $,Y,le,q,Q,K;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:a="center",alignOffset:l=0,arrowPadding:i=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:x,...h}=e,v=go(hn,r),[b,y]=c.useState(null),w=X(t,fe=>y(fe)),[j,S]=c.useState(null),C=fd(j),N=(C==null?void 0:C.width)??0,A=(C==null?void 0:C.height)??0,T=n+(a!=="center"?"-"+a:""),_=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},P=Array.isArray(u)?u:[u],E=P.length>0,M={padding:_,boundary:P.filter(xd),altBoundary:E},{refs:R,floatingStyles:B,placement:I,isPositioned:D,middlewareData:O}=td({strategy:"fixed",placement:T,whileElementsMounted:(...fe)=>Hc(...fe,{animationFrame:g==="always"}),elements:{reference:v.anchor},middleware:[nd({mainAxis:o+A,alignmentAxis:l}),d&&sd({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?od():void 0,...M}),d&&ad({...M}),id({...M,apply:({elements:fe,rects:ae,availableWidth:Qe,availableHeight:_e})=>{const{width:st,height:Ee}=ae.reference,ot=fe.floating.style;ot.setProperty("--radix-popper-available-width",`${Qe}px`),ot.setProperty("--radix-popper-available-height",`${_e}px`),ot.setProperty("--radix-popper-anchor-width",`${st}px`),ot.setProperty("--radix-popper-anchor-height",`${Ee}px`)}}),j&&cd({element:j,padding:i}),vd({arrowWidth:N,arrowHeight:A}),p&&ld({strategy:"referenceHidden",...M})]}),[F,ne]=jo(I),re=be(x);ue(()=>{D&&(re==null||re())},[D,re]);const ye=($=O.arrow)==null?void 0:$.x,oe=(Y=O.arrow)==null?void 0:Y.y,Me=((le=O.arrow)==null?void 0:le.centerOffset)!==0,[Ge,Ie]=c.useState();return ue(()=>{b&&Ie(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:D?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ge,"--radix-popper-transform-origin":[(q=O.transformOrigin)==null?void 0:q.x,(Q=O.transformOrigin)==null?void 0:Q.y].join(" "),...((K=O.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(hd,{scope:r,placedSide:F,onArrowChange:S,arrowX:ye,arrowY:oe,shouldHideArrow:Me,children:s.jsx(U.div,{"data-side":F,"data-align":ne,...h,ref:w,style:{...h.style,animation:D?void 0:"none"}})})})});yo.displayName=hn;var wo="PopperArrow",gd={top:"bottom",right:"left",bottom:"top",left:"right"},So=c.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,a=pd(wo,n),l=gd[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(ud,{...o,ref:r,style:{...o.style,display:"block"}})})});So.displayName=wo;function xd(e){return e!==null}var vd=e=>({name:"transformOrigin",options:e,fn(t){var v,b,y;const{placement:r,rects:n,middlewareData:o}=t,l=((v=o.arrow)==null?void 0:v.centerOffset)!==0,i=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[u,f]=jo(r),m={start:"0%",center:"50%",end:"100%"}[f],p=(((b=o.arrow)==null?void 0:b.x)??0)+i/2,g=(((y=o.arrow)==null?void 0:y.y)??0)+d/2;let x="",h="";return u==="bottom"?(x=l?m:`${p}px`,h=`${-d}px`):u==="top"?(x=l?m:`${p}px`,h=`${n.floating.height+d}px`):u==="right"?(x=`${-d}px`,h=l?m:`${g}px`):u==="left"&&(x=`${n.floating.width+d}px`,h=l?m:`${g}px`),{data:{x,y:h}}}});function jo(e){const[t,r="center"]=e.split("-");return[t,r]}var bd=xo,yd=bo,wd=yo,Sd=So,jd="Portal",pn=c.forwardRef((e,t)=>{var i;const{container:r,...n}=e,[o,a]=c.useState(!1);ue(()=>a(!0),[]);const l=r||o&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return l?ka.createPortal(s.jsx(U.div,{...n,ref:t}),l):null});pn.displayName=jd;var Nd=ls[" useInsertionEffect ".trim().toString()]||ue;function Ur({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,a,l]=Cd({defaultProp:t,onChange:r}),i=e!==void 0,d=i?e:o;{const f=c.useRef(e!==void 0);c.useEffect(()=>{const m=f.current;m!==i&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=i},[i,n])}const u=c.useCallback(f=>{var m;if(i){const p=_d(f)?f(e):f;p!==e&&((m=l.current)==null||m.call(l,p))}else a(f)},[i,e,a,l]);return[d,u]}function Cd({defaultProp:e,onChange:t}){const[r,n]=c.useState(e),o=c.useRef(r),a=c.useRef(t);return Nd(()=>{a.current=t},[t]),c.useEffect(()=>{var l;o.current!==r&&((l=a.current)==null||l.call(a,r),o.current=r)},[r,o]),[r,n,a]}function _d(e){return typeof e=="function"}function Ed(e){const t=c.useRef({value:e,previous:e});return c.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var No=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ad="VisuallyHidden",Td=c.forwardRef((e,t)=>s.jsx(U.span,{...e,ref:t,style:{...No,...e.style}}));Td.displayName=Ad;var Pd=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},pt=new WeakMap,Vt=new WeakMap,Ht={},Ar=0,Co=function(e){return e&&(e.host||Co(e.parentNode))},kd=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Co(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Rd=function(e,t,r,n){var o=kd(t,Array.isArray(e)?e:[e]);Ht[r]||(Ht[r]=new WeakMap);var a=Ht[r],l=[],i=new Set,d=new Set(o),u=function(m){!m||i.has(m)||(i.add(m),u(m.parentNode))};o.forEach(u);var f=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(p){if(i.has(p))f(p);else try{var g=p.getAttribute(n),x=g!==null&&g!=="false",h=(pt.get(p)||0)+1,v=(a.get(p)||0)+1;pt.set(p,h),a.set(p,v),l.push(p),h===1&&x&&Vt.set(p,!0),v===1&&p.setAttribute(r,"true"),x||p.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return f(t),i.clear(),Ar++,function(){l.forEach(function(m){var p=pt.get(m)-1,g=a.get(m)-1;pt.set(m,p),a.set(m,g),p||(Vt.has(m)||m.removeAttribute(n),Vt.delete(m)),g||m.removeAttribute(r)}),Ar--,Ar||(pt=new WeakMap,pt=new WeakMap,Vt=new WeakMap,Ht={})}},_o=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=t||Pd(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),Rd(n,o,r,"aria-hidden")):function(){return null}},Yt="right-scroll-bar-position",Xt="width-before-scroll-bar",Md="with-scroll-bars-hidden",Id="--removed-body-scroll-bar-size";function Tr(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Od(e,t){var r=c.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var Dd=typeof window<"u"?c.useLayoutEffect:c.useEffect,Zn=new WeakMap;function Ld(e,t){var r=Od(t||null,function(n){return e.forEach(function(o){return Tr(o,n)})});return Dd(function(){var n=Zn.get(r);if(n){var o=new Set(n),a=new Set(e),l=r.current;o.forEach(function(i){a.has(i)||Tr(i,null)}),a.forEach(function(i){o.has(i)||Tr(i,l)})}Zn.set(r,e)},[e]),r}function $d(e){return e}function zd(e,t){t===void 0&&(t=$d);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var l=t(a,n);return r.push(l),function(){r=r.filter(function(i){return i!==l})}},assignSyncMedium:function(a){for(n=!0;r.length;){var l=r;r=[],l.forEach(a)}r={push:function(i){return a(i)},filter:function(){return r}}},assignMedium:function(a){n=!0;var l=[];if(r.length){var i=r;r=[],i.forEach(a),l=r}var d=function(){var f=l;l=[],f.forEach(a)},u=function(){return Promise.resolve().then(d)};u(),r={push:function(f){l.push(f),u()},filter:function(f){return l=l.filter(f),r}}}};return o}function Bd(e){e===void 0&&(e={});var t=zd(null);return t.options=Xe({async:!0,ssr:!1},e),t}var Eo=function(e){var t=e.sideCar,r=ps(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return c.createElement(n,Xe({},r))};Eo.isSideCarExport=!0;function Fd(e,t){return e.useMedium(t),Eo}var Ao=Bd(),Pr=function(){},gr=c.forwardRef(function(e,t){var r=c.useRef(null),n=c.useState({onScrollCapture:Pr,onWheelCapture:Pr,onTouchMoveCapture:Pr}),o=n[0],a=n[1],l=e.forwardProps,i=e.children,d=e.className,u=e.removeScrollBar,f=e.enabled,m=e.shards,p=e.sideCar,g=e.noRelative,x=e.noIsolation,h=e.inert,v=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,w=e.gapMode,j=ps(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,C=Ld([r,t]),N=Xe(Xe({},j),o);return c.createElement(c.Fragment,null,f&&c.createElement(S,{sideCar:Ao,removeScrollBar:u,shards:m,noRelative:g,noIsolation:x,inert:h,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:w}),l?c.cloneElement(c.Children.only(i),Xe(Xe({},N),{ref:C})):c.createElement(y,Xe({},N,{className:d,ref:C}),i))});gr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gr.classNames={fullWidth:Xt,zeroRight:Yt};var es,Wd=function(){if(es)return es;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ud(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Wd();return t&&e.setAttribute("nonce",t),e}function Vd(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Hd(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Gd=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Ud())&&(Vd(t,r),Hd(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Qd=function(){var e=Gd();return function(t,r){c.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},To=function(){var e=Qd(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},Kd={left:0,top:0,right:0,gap:0},kr=function(e){return parseInt(e||"",10)||0},qd=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[kr(r),kr(n),kr(o)]},Yd=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Kd;var t=qd(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Xd=To(),wt="data-scroll-locked",Jd=function(e,t,r,n){var o=e.left,a=e.top,l=e.right,i=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Md,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(i,"px ").concat(n,`;
  }
  body[`).concat(wt,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(i,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yt,` {
    right: `).concat(i,"px ").concat(n,`;
  }
  
  .`).concat(Xt,` {
    margin-right: `).concat(i,"px ").concat(n,`;
  }
  
  .`).concat(Yt," .").concat(Yt,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xt," .").concat(Xt,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(wt,`] {
    `).concat(Id,": ").concat(i,`px;
  }
`)},ts=function(){var e=parseInt(document.body.getAttribute(wt)||"0",10);return isFinite(e)?e:0},Zd=function(){c.useEffect(function(){return document.body.setAttribute(wt,(ts()+1).toString()),function(){var e=ts()-1;e<=0?document.body.removeAttribute(wt):document.body.setAttribute(wt,e.toString())}},[])},eu=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;Zd();var a=c.useMemo(function(){return Yd(o)},[o]);return c.createElement(Xd,{styles:Jd(a,!t,o,r?"":"!important")})},Vr=!1;if(typeof window<"u")try{var Gt=Object.defineProperty({},"passive",{get:function(){return Vr=!0,!0}});window.addEventListener("test",Gt,Gt),window.removeEventListener("test",Gt,Gt)}catch{Vr=!1}var gt=Vr?{passive:!1}:!1,tu=function(e){return e.tagName==="TEXTAREA"},Po=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!tu(e)&&r[t]==="visible")},ru=function(e){return Po(e,"overflowY")},nu=function(e){return Po(e,"overflowX")},rs=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=ko(e,n);if(o){var a=Ro(e,n),l=a[1],i=a[2];if(l>i)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},su=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},ou=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},ko=function(e,t){return e==="v"?ru(t):nu(t)},Ro=function(e,t){return e==="v"?su(t):ou(t)},au=function(e,t){return e==="h"&&t==="rtl"?-1:1},iu=function(e,t,r,n,o){var a=au(e,window.getComputedStyle(t).direction),l=a*n,i=r.target,d=t.contains(i),u=!1,f=l>0,m=0,p=0;do{if(!i)break;var g=Ro(e,i),x=g[0],h=g[1],v=g[2],b=h-v-a*x;(x||b)&&ko(e,i)&&(m+=b,p+=x);var y=i.parentNode;i=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!d&&i!==document.body||d&&(t.contains(i)||t===i));return(f&&(o&&Math.abs(m)<1||!o&&l>m)||!f&&(o&&Math.abs(p)<1||!o&&-l>p))&&(u=!0),u},Qt=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ns=function(e){return[e.deltaX,e.deltaY]},ss=function(e){return e&&"current"in e?e.current:e},lu=function(e,t){return e[0]===t[0]&&e[1]===t[1]},cu=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},du=0,xt=[];function uu(e){var t=c.useRef([]),r=c.useRef([0,0]),n=c.useRef(),o=c.useState(du++)[0],a=c.useState(To)[0],l=c.useRef(e);c.useEffect(function(){l.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var h=ei([e.lockRef.current],(e.shards||[]).map(ss),!0).filter(Boolean);return h.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),h.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var i=c.useCallback(function(h,v){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!l.current.allowPinchZoom;var b=Qt(h),y=r.current,w="deltaX"in h?h.deltaX:y[0]-b[0],j="deltaY"in h?h.deltaY:y[1]-b[1],S,C=h.target,N=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in h&&N==="h"&&C.type==="range")return!1;var A=rs(N,C);if(!A)return!0;if(A?S=N:(S=N==="v"?"h":"v",A=rs(N,C)),!A)return!1;if(!n.current&&"changedTouches"in h&&(w||j)&&(n.current=S),!S)return!0;var T=n.current||S;return iu(T,v,h,T==="h"?w:j,!0)},[]),d=c.useCallback(function(h){var v=h;if(!(!xt.length||xt[xt.length-1]!==a)){var b="deltaY"in v?ns(v):Qt(v),y=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&lu(S.delta,b)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var w=(l.current.shards||[]).map(ss).filter(Boolean).filter(function(S){return S.contains(v.target)}),j=w.length>0?i(v,w[0]):!l.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),u=c.useCallback(function(h,v,b,y){var w={name:h,delta:v,target:b,should:y,shadowParent:fu(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),f=c.useCallback(function(h){r.current=Qt(h),n.current=void 0},[]),m=c.useCallback(function(h){u(h.type,ns(h),h.target,i(h,e.lockRef.current))},[]),p=c.useCallback(function(h){u(h.type,Qt(h),h.target,i(h,e.lockRef.current))},[]);c.useEffect(function(){return xt.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",d,gt),document.addEventListener("touchmove",d,gt),document.addEventListener("touchstart",f,gt),function(){xt=xt.filter(function(h){return h!==a}),document.removeEventListener("wheel",d,gt),document.removeEventListener("touchmove",d,gt),document.removeEventListener("touchstart",f,gt)}},[]);var g=e.removeScrollBar,x=e.inert;return c.createElement(c.Fragment,null,x?c.createElement(a,{styles:cu(o)}):null,g?c.createElement(eu,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function fu(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const mu=Fd(Ao,uu);var Mo=c.forwardRef(function(e,t){return c.createElement(gr,Xe({},e,{ref:t,sideCar:mu}))});Mo.classNames=gr.classNames;const Io=Mo;var hu=[" ","Enter","ArrowUp","ArrowDown"],pu=[" ","Enter"],ct="Select",[xr,vr,gu]=Dl(ct),[Tt,em]=mt(ct,[gu,po]),br=po(),[xu,rt]=Tt(ct),[vu,bu]=Tt(ct),Oo=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:a,value:l,defaultValue:i,onValueChange:d,dir:u,name:f,autoComplete:m,disabled:p,required:g,form:x}=e,h=br(t),[v,b]=c.useState(null),[y,w]=c.useState(null),[j,S]=c.useState(!1),C=_s(u),[N,A]=Ur({prop:n,defaultProp:o??!1,onChange:a,caller:ct}),[T,_]=Ur({prop:l,defaultProp:i,onChange:d,caller:ct}),P=c.useRef(null),E=v?x||!!v.closest("form"):!0,[M,R]=c.useState(new Set),B=Array.from(M).map(I=>I.props.value).join(";");return s.jsx(bd,{...h,children:s.jsxs(xu,{required:g,scope:t,trigger:v,onTriggerChange:b,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:bt(),value:T,onValueChange:_,open:N,onOpenChange:A,dir:C,triggerPointerDownPosRef:P,disabled:p,children:[s.jsx(xr.Provider,{scope:t,children:s.jsx(vu,{scope:e.__scopeSelect,onNativeOptionAdd:c.useCallback(I=>{R(D=>new Set(D).add(I))},[]),onNativeOptionRemove:c.useCallback(I=>{R(D=>{const O=new Set(D);return O.delete(I),O})},[]),children:r})}),E?s.jsxs(na,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:m,value:T,onChange:I=>_(I.target.value),disabled:p,form:x,children:[T===void 0?s.jsx("option",{value:""}):null,Array.from(M)]},B):null]})})};Oo.displayName=ct;var Do="SelectTrigger",Lo=c.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,a=br(r),l=rt(Do,r),i=l.disabled||n,d=X(t,l.onTriggerChange),u=vr(r),f=c.useRef("touch"),[m,p,g]=oa(h=>{const v=u().filter(w=>!w.disabled),b=v.find(w=>w.value===l.value),y=aa(v,h,b);y!==void 0&&l.onValueChange(y.value)}),x=h=>{i||(l.onOpenChange(!0),g()),h&&(l.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return s.jsx(yd,{asChild:!0,...a,children:s.jsx(U.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":sa(l.value)?"":void 0,...o,ref:d,onClick:G(o.onClick,h=>{h.currentTarget.focus(),f.current!=="mouse"&&x(h)}),onPointerDown:G(o.onPointerDown,h=>{f.current=h.pointerType;const v=h.target;v.hasPointerCapture(h.pointerId)&&v.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(x(h),h.preventDefault())}),onKeyDown:G(o.onKeyDown,h=>{const v=m.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&p(h.key),!(v&&h.key===" ")&&hu.includes(h.key)&&(x(),h.preventDefault())})})})});Lo.displayName=Do;var $o="SelectValue",zo=c.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:a,placeholder:l="",...i}=e,d=rt($o,r),{onValueNodeHasChildrenChange:u}=d,f=a!==void 0,m=X(t,d.onValueNodeChange);return ue(()=>{u(f)},[u,f]),s.jsx(U.span,{...i,ref:m,style:{pointerEvents:"none"},children:sa(d.value)?s.jsx(s.Fragment,{children:l}):a})});zo.displayName=$o;var yu="SelectIcon",Bo=c.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return s.jsx(U.span,{"aria-hidden":!0,...o,ref:t,children:n||"▼"})});Bo.displayName=yu;var wu="SelectPortal",Fo=e=>s.jsx(pn,{asChild:!0,...e});Fo.displayName=wu;var dt="SelectContent",Wo=c.forwardRef((e,t)=>{const r=rt(dt,e.__scopeSelect),[n,o]=c.useState();if(ue(()=>{o(new DocumentFragment)},[]),!r.open){const a=n;return a?Lt.createPortal(s.jsx(Uo,{scope:e.__scopeSelect,children:s.jsx(xr.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(Vo,{...e,ref:t})});Wo.displayName=dt;var Te=10,[Uo,nt]=Tt(dt),Su="SelectContentImpl",ju=St("SelectContent.RemoveScroll"),Vo=c.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:l,side:i,sideOffset:d,align:u,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:h,avoidCollisions:v,...b}=e,y=rt(dt,r),[w,j]=c.useState(null),[S,C]=c.useState(null),N=X(t,$=>j($)),[A,T]=c.useState(null),[_,P]=c.useState(null),E=vr(r),[M,R]=c.useState(!1),B=c.useRef(!1);c.useEffect(()=>{if(w)return _o(w)},[w]),Zs();const I=c.useCallback($=>{const[Y,...le]=E().map(K=>K.ref.current),[q]=le.slice(-1),Q=document.activeElement;for(const K of $)if(K===Q||(K==null||K.scrollIntoView({block:"nearest"}),K===Y&&S&&(S.scrollTop=0),K===q&&S&&(S.scrollTop=S.scrollHeight),K==null||K.focus(),document.activeElement!==Q))return},[E,S]),D=c.useCallback(()=>I([A,w]),[I,A,w]);c.useEffect(()=>{M&&D()},[M,D]);const{onOpenChange:O,triggerPointerDownPosRef:F}=y;c.useEffect(()=>{if(w){let $={x:0,y:0};const Y=q=>{var Q,K;$={x:Math.abs(Math.round(q.pageX)-(((Q=F.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(q.pageY)-(((K=F.current)==null?void 0:K.y)??0))}},le=q=>{$.x<=10&&$.y<=10?q.preventDefault():w.contains(q.target)||O(!1),document.removeEventListener("pointermove",Y),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",le,{capture:!0})}}},[w,O,F]),c.useEffect(()=>{const $=()=>O(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[O]);const[ne,re]=oa($=>{const Y=E().filter(Q=>!Q.disabled),le=Y.find(Q=>Q.ref.current===document.activeElement),q=aa(Y,$,le);q&&setTimeout(()=>q.ref.current.focus())}),ye=c.useCallback(($,Y,le)=>{const q=!B.current&&!le;(y.value!==void 0&&y.value===Y||q)&&(T($),q&&(B.current=!0))},[y.value]),oe=c.useCallback(()=>w==null?void 0:w.focus(),[w]),Me=c.useCallback(($,Y,le)=>{const q=!B.current&&!le;(y.value!==void 0&&y.value===Y||q)&&P($)},[y.value]),Ge=n==="popper"?Hr:Ho,Ie=Ge===Hr?{side:i,sideOffset:d,align:u,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:h,avoidCollisions:v}:{};return s.jsx(Uo,{scope:r,content:w,viewport:S,onViewportChange:C,itemRefCallback:ye,selectedItem:A,onItemLeave:oe,itemTextRefCallback:Me,focusSelectedItem:D,selectedItemText:_,position:n,isPositioned:M,searchRef:ne,children:s.jsx(Io,{as:ju,allowPinchZoom:!0,children:s.jsx(sn,{asChild:!0,trapped:y.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:G(o,$=>{var Y;(Y=y.trigger)==null||Y.focus({preventScroll:!0}),$.preventDefault()}),children:s.jsx(nn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(Ge,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:$=>$.preventDefault(),...b,...Ie,onPlaced:()=>R(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:G(b.onKeyDown,$=>{const Y=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!Y&&$.key.length===1&&re($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let q=E().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes($.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const Q=$.target,K=q.indexOf(Q);q=q.slice(K+1)}setTimeout(()=>I(q)),$.preventDefault()}})})})})})})});Vo.displayName=Su;var Nu="SelectItemAlignedPosition",Ho=c.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,a=rt(dt,r),l=nt(dt,r),[i,d]=c.useState(null),[u,f]=c.useState(null),m=X(t,N=>f(N)),p=vr(r),g=c.useRef(!1),x=c.useRef(!0),{viewport:h,selectedItem:v,selectedItemText:b,focusSelectedItem:y}=l,w=c.useCallback(()=>{if(a.trigger&&a.valueNode&&i&&u&&h&&v&&b){const N=a.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),_=b.getBoundingClientRect();if(a.dir!=="rtl"){const Q=_.left-A.left,K=T.left-Q,fe=N.left-K,ae=N.width+fe,Qe=Math.max(ae,A.width),_e=window.innerWidth-Te,st=$r(K,[Te,Math.max(Te,_e-Qe)]);i.style.minWidth=ae+"px",i.style.left=st+"px"}else{const Q=A.right-_.right,K=window.innerWidth-T.right-Q,fe=window.innerWidth-N.right-K,ae=N.width+fe,Qe=Math.max(ae,A.width),_e=window.innerWidth-Te,st=$r(K,[Te,Math.max(Te,_e-Qe)]);i.style.minWidth=ae+"px",i.style.right=st+"px"}const P=p(),E=window.innerHeight-Te*2,M=h.scrollHeight,R=window.getComputedStyle(u),B=parseInt(R.borderTopWidth,10),I=parseInt(R.paddingTop,10),D=parseInt(R.borderBottomWidth,10),O=parseInt(R.paddingBottom,10),F=B+I+M+O+D,ne=Math.min(v.offsetHeight*5,F),re=window.getComputedStyle(h),ye=parseInt(re.paddingTop,10),oe=parseInt(re.paddingBottom,10),Me=N.top+N.height/2-Te,Ge=E-Me,Ie=v.offsetHeight/2,$=v.offsetTop+Ie,Y=B+I+$,le=F-Y;if(Y<=Me){const Q=P.length>0&&v===P[P.length-1].ref.current;i.style.bottom="0px";const K=u.clientHeight-h.offsetTop-h.offsetHeight,fe=Math.max(Ge,Ie+(Q?oe:0)+K+D),ae=Y+fe;i.style.height=ae+"px"}else{const Q=P.length>0&&v===P[0].ref.current;i.style.top="0px";const fe=Math.max(Me,B+h.offsetTop+(Q?ye:0)+Ie)+le;i.style.height=fe+"px",h.scrollTop=Y-Me+h.offsetTop}i.style.margin=`${Te}px 0`,i.style.minHeight=ne+"px",i.style.maxHeight=E+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[p,a.trigger,a.valueNode,i,u,h,v,b,a.dir,n]);ue(()=>w(),[w]);const[j,S]=c.useState();ue(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const C=c.useCallback(N=>{N&&x.current===!0&&(w(),y==null||y(),x.current=!1)},[w,y]);return s.jsx(_u,{scope:r,contentWrapper:i,shouldExpandOnScrollRef:g,onScrollButtonChange:C,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(U.div,{...o,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Ho.displayName=Nu;var Cu="SelectPopperPosition",Hr=c.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=Te,...a}=e,l=br(r);return s.jsx(wd,{...l,...a,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hr.displayName=Cu;var[_u,gn]=Tt(dt,{}),Gr="SelectViewport",Go=c.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,a=nt(Gr,r),l=gn(Gr,r),i=X(t,a.onViewportChange),d=c.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(xr.Slot,{scope:r,children:s.jsx(U.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:G(o.onScroll,u=>{const f=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=l;if(p!=null&&p.current&&m){const g=Math.abs(d.current-f.scrollTop);if(g>0){const x=window.innerHeight-Te*2,h=parseFloat(m.style.minHeight),v=parseFloat(m.style.height),b=Math.max(h,v);if(b<x){const y=b+g,w=Math.min(x,y),j=y-w;m.style.height=w+"px",m.style.bottom==="0px"&&(f.scrollTop=j>0?j:0,m.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});Go.displayName=Gr;var Qo="SelectGroup",[Eu,Au]=Tt(Qo),Tu=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=bt();return s.jsx(Eu,{scope:r,id:o,children:s.jsx(U.div,{role:"group","aria-labelledby":o,...n,ref:t})})});Tu.displayName=Qo;var Ko="SelectLabel",Pu=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Au(Ko,r);return s.jsx(U.div,{id:o.id,...n,ref:t})});Pu.displayName=Ko;var ar="SelectItem",[ku,qo]=Tt(ar),Yo=c.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:a,...l}=e,i=rt(ar,r),d=nt(ar,r),u=i.value===n,[f,m]=c.useState(a??""),[p,g]=c.useState(!1),x=X(t,y=>{var w;return(w=d.itemRefCallback)==null?void 0:w.call(d,y,n,o)}),h=bt(),v=c.useRef("touch"),b=()=>{o||(i.onValueChange(n),i.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(ku,{scope:r,value:n,disabled:o,textId:h,isSelected:u,onItemTextChange:c.useCallback(y=>{m(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(xr.ItemSlot,{scope:r,value:n,disabled:o,textValue:f,children:s.jsx(U.div,{role:"option","aria-labelledby":h,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...l,ref:x,onFocus:G(l.onFocus,()=>g(!0)),onBlur:G(l.onBlur,()=>g(!1)),onClick:G(l.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:G(l.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:G(l.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:G(l.onPointerMove,y=>{var w;v.current=y.pointerType,o?(w=d.onItemLeave)==null||w.call(d):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:G(l.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=d.onItemLeave)==null||w.call(d))}),onKeyDown:G(l.onKeyDown,y=>{var j;((j=d.searchRef)==null?void 0:j.current)!==""&&y.key===" "||(pu.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});Yo.displayName=ar;var Rt="SelectItemText",Xo=c.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...a}=e,l=rt(Rt,r),i=nt(Rt,r),d=qo(Rt,r),u=bu(Rt,r),[f,m]=c.useState(null),p=X(t,b=>m(b),d.onItemTextChange,b=>{var y;return(y=i.itemTextRefCallback)==null?void 0:y.call(i,b,d.value,d.disabled)}),g=f==null?void 0:f.textContent,x=c.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:h,onNativeOptionRemove:v}=u;return ue(()=>(h(x),()=>v(x)),[h,v,x]),s.jsxs(s.Fragment,{children:[s.jsx(U.span,{id:d.textId,...a,ref:p}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Lt.createPortal(a.children,l.valueNode):null]})});Xo.displayName=Rt;var Jo="SelectItemIndicator",Zo=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return qo(Jo,r).isSelected?s.jsx(U.span,{"aria-hidden":!0,...n,ref:t}):null});Zo.displayName=Jo;var Qr="SelectScrollUpButton",ea=c.forwardRef((e,t)=>{const r=nt(Qr,e.__scopeSelect),n=gn(Qr,e.__scopeSelect),[o,a]=c.useState(!1),l=X(t,n.onScrollButtonChange);return ue(()=>{if(r.viewport&&r.isPositioned){let i=function(){const u=d.scrollTop>0;a(u)};const d=r.viewport;return i(),d.addEventListener("scroll",i),()=>d.removeEventListener("scroll",i)}},[r.viewport,r.isPositioned]),o?s.jsx(ra,{...e,ref:l,onAutoScroll:()=>{const{viewport:i,selectedItem:d}=r;i&&d&&(i.scrollTop=i.scrollTop-d.offsetHeight)}}):null});ea.displayName=Qr;var Kr="SelectScrollDownButton",ta=c.forwardRef((e,t)=>{const r=nt(Kr,e.__scopeSelect),n=gn(Kr,e.__scopeSelect),[o,a]=c.useState(!1),l=X(t,n.onScrollButtonChange);return ue(()=>{if(r.viewport&&r.isPositioned){let i=function(){const u=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<u;a(f)};const d=r.viewport;return i(),d.addEventListener("scroll",i),()=>d.removeEventListener("scroll",i)}},[r.viewport,r.isPositioned]),o?s.jsx(ra,{...e,ref:l,onAutoScroll:()=>{const{viewport:i,selectedItem:d}=r;i&&d&&(i.scrollTop=i.scrollTop+d.offsetHeight)}}):null});ta.displayName=Kr;var ra=c.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,a=nt("SelectScrollButton",r),l=c.useRef(null),i=vr(r),d=c.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return c.useEffect(()=>()=>d(),[d]),ue(()=>{var f;const u=i().find(m=>m.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[i]),s.jsx(U.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:G(o.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:G(o.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:G(o.onPointerLeave,()=>{d()})})}),Ru="SelectSeparator",Mu=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(U.div,{"aria-hidden":!0,...n,ref:t})});Mu.displayName=Ru;var qr="SelectArrow",Iu=c.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=br(r),a=rt(qr,r),l=nt(qr,r);return a.open&&l.position==="popper"?s.jsx(Sd,{...o,...n,ref:t}):null});Iu.displayName=qr;var Ou="SelectBubbleInput",na=c.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const o=c.useRef(null),a=X(n,o),l=Ed(t);return c.useEffect(()=>{const i=o.current;if(!i)return;const d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&f){const m=new Event("change",{bubbles:!0});f.call(i,t),i.dispatchEvent(m)}},[l,t]),s.jsx(U.select,{...r,style:{...No,...r.style},ref:a,defaultValue:t})});na.displayName=Ou;function sa(e){return e===""||e===void 0}function oa(e){const t=be(e),r=c.useRef(""),n=c.useRef(0),o=c.useCallback(l=>{const i=r.current+l;t(i),function d(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>d(""),1e3))}(i)},[t]),a=c.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return c.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,a]}function aa(e,t,r){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let l=Du(e,Math.max(a,0));o.length===1&&(l=l.filter(u=>u!==r));const d=l.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==r?d:void 0}function Du(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Lu=Oo,$u=Lo,zu=zo,Bu=Bo,Fu=Fo,Wu=Wo,Uu=Go,Vu=Yo,Hu=Xo,Gu=Zo,Qu=ea,Ku=ta;function qu({...e}){return s.jsx(Lu,{"data-slot":"select",...e})}function Yu({...e}){return s.jsx(zu,{"data-slot":"select-value",...e})}function Xu({className:e,size:t="default",children:r,...n}){return s.jsxs($u,{"data-slot":"select-trigger","data-size":t,className:te("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,s.jsx(Bu,{asChild:!0,children:s.jsx(cs,{className:"size-4 opacity-50"})})]})}function Ju({className:e,children:t,position:r="popper",...n}){return s.jsx(Fu,{children:s.jsxs(Wu,{"data-slot":"select-content",className:te("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(Zu,{}),s.jsx(Uu,{className:te("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(ef,{})]})})}function Rr({className:e,children:t,...r}){return s.jsxs(Vu,{"data-slot":"select-item",className:te("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(Gu,{children:s.jsx(Ma,{className:"size-4"})})}),s.jsx(Hu,{children:t})]})}function Zu({className:e,...t}){return s.jsx(Qu,{"data-slot":"select-scroll-up-button",className:te("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Ia,{className:"size-4"})})}function ef({className:e,...t}){return s.jsx(Ku,{"data-slot":"select-scroll-down-button",className:te("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(cs,{className:"size-4"})})}const tf=()=>{const{login:e,register:t,isLoading:r}=$t(),{t:n}=Ct(),[o,a]=c.useState(!0),[l,i]=c.useState({email:"",password:"",name:"",role:"student"}),d=async m=>{if(m.preventDefault(),!l.email||!l.password){Se.error("Пожалуйста, заполните все поля");return}try{if(o)await e(l.email,l.password),Se.success("Успешный вход в систему"),window.dispatchEvent(new CustomEvent("app:navigate",{detail:{page:"home"}}));else{if(!l.name){Se.error("Пожалуйста, введите имя");return}await t(l.email,l.password,l.name,l.role),Se.success("Регистрация успешна"),window.dispatchEvent(new CustomEvent("app:navigate",{detail:{page:"home"}}))}}catch(p){Se.error(p.message||"Произошла ошибка")}},u=(m,p)=>{i(g=>({...g,[m]:p}))},f=()=>{a(!o),i({email:"",password:"",name:"",role:"student"})};return s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-8",children:s.jsxs(ce,{className:"w-full max-w-md",children:[s.jsx(pe,{className:"space-y-1",children:s.jsx(ge,{className:"text-2xl text-center",children:n(o?"auth.login":"auth.register")})}),s.jsxs(de,{children:[s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Wt,{htmlFor:"email",children:n("auth.email")}),s.jsxs("div",{className:"relative",children:[s.jsx(Oa,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(Je,{id:"email",type:"email",placeholder:n("auth.email"),value:l.email,onChange:m=>u("email",m.target.value),className:"pl-10",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Wt,{htmlFor:"password",children:n("auth.password")}),s.jsxs("div",{className:"relative",children:[s.jsx(Da,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(Je,{id:"password",type:"password",placeholder:n("auth.password"),value:l.password,onChange:m=>u("password",m.target.value),className:"pl-10",required:!0})]})]}),!o&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Wt,{htmlFor:"name",children:n("auth.name")}),s.jsxs("div",{className:"relative",children:[s.jsx(Mt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(Je,{id:"name",type:"text",placeholder:n("auth.name"),value:l.name,onChange:m=>u("name",m.target.value),className:"pl-10",required:!0})]})]}),!o&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Wt,{children:n("auth.role")}),s.jsxs(qu,{value:l.role,onValueChange:m=>u("role",m),children:[s.jsx(Xu,{className:"w-full",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(La,{className:"h-4 w-4 mr-2 text-gray-400"}),s.jsx(Yu,{})]})}),s.jsxs(Ju,{children:[s.jsx(Rr,{value:"student",children:n("auth.student")}),s.jsx(Rr,{value:"teacher",children:n("auth.teacher")}),s.jsx(Rr,{value:"tutor",children:n("auth.tutor")})]})]})]}),s.jsx(ie,{type:"submit",className:"w-full",disabled:r,children:n(r?"common.loading":"auth.submit")})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(ie,{variant:"link",onClick:f,className:"text-sm text-blue-600 hover:text-blue-800",children:n(o?"auth.switchToRegister":"auth.switchToLogin")})})]})]})})},xn="ent_template_current_v1",ir={id:"ent-default-2025",name:"ENT Default 2025",description:"Шаблон, приближенный к структуре ЕНТ. Включает обязательные секции: История Казахстана и Математическая грамотность.",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:1,tracks:{math:{sections:[{id:"history-kz",title:"История Казахстана",key:"history_kz",numQuestions:20,timeLimitMinutes:20,questionTypes:["multiple_choice","multi_select"],mandatory:!0},{id:"math-literacy",title:"Математическая грамотность",key:"math_literacy",numQuestions:15,timeLimitMinutes:20,questionTypes:["multiple_choice","numeric","latex"],mandatory:!0},{id:"math-profile",title:"Профильная математика",key:"math_profile",numQuestions:40,timeLimitMinutes:100,questionTypes:["multiple_choice","multi_select","numeric","latex","image"],mandatory:!1}],totalTimeMinutes:140},physics:{sections:[{id:"history-kz",title:"История Казахстана",key:"history_kz",numQuestions:20,timeLimitMinutes:20,questionTypes:["multiple_choice","multi_select"],mandatory:!0},{id:"math-literacy",title:"Математическая грамотность",key:"math_literacy",numQuestions:15,timeLimitMinutes:20,questionTypes:["multiple_choice","numeric","latex"],mandatory:!0},{id:"physics-profile",title:"Профильная физика",key:"physics_profile",numQuestions:40,timeLimitMinutes:100,questionTypes:["multiple_choice","multi_select","numeric","latex","image"],mandatory:!1}],totalTimeMinutes:140}}};function ia(){try{const e=localStorage.getItem(xn);return e?JSON.parse(e):ir}catch{return ir}}function rf(e){const t={...e,updatedAt:new Date().toISOString()};localStorage.setItem(xn,JSON.stringify(t))}function nf(){localStorage.removeItem(xn)}const sf=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_ENT_TEMPLATE:ir,loadEntTemplate:ia,resetEntTemplate:nf,saveEntTemplate:rf},Symbol.toStringTag,{value:"Module"}));var vn="Progress",bn=100,[of,tm]=mt(vn),[af,lf]=of(vn),la=c.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:o,getValueLabel:a=cf,...l}=e;(o||o===0)&&!os(o)&&console.error(df(`${o}`,"Progress"));const i=os(o)?o:bn;n!==null&&!as(n,i)&&console.error(uf(`${n}`,"Progress"));const d=as(n,i)?n:null,u=lr(d)?a(d,i):void 0;return s.jsx(af,{scope:r,value:d,max:i,children:s.jsx(U.div,{"aria-valuemax":i,"aria-valuemin":0,"aria-valuenow":lr(d)?d:void 0,"aria-valuetext":u,role:"progressbar","data-state":ua(d,i),"data-value":d??void 0,"data-max":i,...l,ref:t})})});la.displayName=vn;var ca="ProgressIndicator",da=c.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,o=lf(ca,r);return s.jsx(U.div,{"data-state":ua(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...n,ref:t})});da.displayName=ca;function cf(e,t){return`${Math.round(e/t*100)}%`}function ua(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function lr(e){return typeof e=="number"}function os(e){return lr(e)&&!isNaN(e)&&e>0}function as(e,t){return lr(e)&&!isNaN(e)&&e<=t&&e>=0}function df(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${bn}\`.`}function uf(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${bn} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var fa=la,ff=da;const it=c.forwardRef(({className:e,value:t,...r},n)=>s.jsx(fa,{ref:n,"data-slot":"progress",className:te("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:s.jsx(ff,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));it.displayName=fa.displayName;const mf=ys("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}}),Oe=c.forwardRef(({className:e,variant:t,asChild:r=!1,...n},o)=>{const a=r?bs:"span";return s.jsx(a,{className:te(mf({variant:t}),e),ref:o,"data-slot":"badge",...n})});Oe.displayName="Badge";const hf=({text:e,className:t})=>{const r=c.useRef(null);return c.useEffect(()=>{const n=r.current;if(!n)return;n.innerHTML=e.replace(/\n/g,"<br/>");const o=window.MathJax;o!=null&&o.typesetPromise&&o.typesetPromise([n]).catch(()=>{})},[e]),s.jsx("div",{ref:r,className:t,"aria-label":"math-content"})};var yr="Dialog",[ma,rm]=mt(yr),[pf,Re]=ma(yr),ha=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:a,modal:l=!0}=e,i=c.useRef(null),d=c.useRef(null),[u,f]=Ur({prop:n,defaultProp:o??!1,onChange:a,caller:yr});return s.jsx(pf,{scope:t,triggerRef:i,contentRef:d,contentId:bt(),titleId:bt(),descriptionId:bt(),open:u,onOpenChange:f,onOpenToggle:c.useCallback(()=>f(m=>!m),[f]),modal:l,children:r})};ha.displayName=yr;var pa="DialogTrigger",ga=c.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Re(pa,r),a=X(t,o.triggerRef);return s.jsx(U.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Sn(o.open),...n,ref:a,onClick:G(e.onClick,o.onOpenToggle)})});ga.displayName=pa;var yn="DialogPortal",[gf,xa]=ma(yn,{forceMount:void 0}),va=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,a=Re(yn,t);return s.jsx(gf,{scope:t,forceMount:r,children:c.Children.map(n,l=>s.jsx(tt,{present:r||a.open,children:s.jsx(pn,{asChild:!0,container:o,children:l})}))})};va.displayName=yn;var cr="DialogOverlay",ba=c.forwardRef((e,t)=>{const r=xa(cr,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=Re(cr,e.__scopeDialog);return a.modal?s.jsx(tt,{present:n||a.open,children:s.jsx(vf,{...o,ref:t})}):null});ba.displayName=cr;var xf=St("DialogOverlay.RemoveScroll"),vf=c.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Re(cr,r);return s.jsx(Io,{as:xf,allowPinchZoom:!0,shards:[o.contentRef],children:s.jsx(U.div,{"data-state":Sn(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ut="DialogContent",ya=c.forwardRef((e,t)=>{const r=xa(ut,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=Re(ut,e.__scopeDialog);return s.jsx(tt,{present:n||a.open,children:a.modal?s.jsx(bf,{...o,ref:t}):s.jsx(yf,{...o,ref:t})})});ya.displayName=ut;var bf=c.forwardRef((e,t)=>{const r=Re(ut,e.__scopeDialog),n=c.useRef(null),o=X(t,r.contentRef,n);return c.useEffect(()=>{const a=n.current;if(a)return _o(a)},[]),s.jsx(wa,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,i=l.button===0&&l.ctrlKey===!0;(l.button===2||i)&&a.preventDefault()}),onFocusOutside:G(e.onFocusOutside,a=>a.preventDefault())})}),yf=c.forwardRef((e,t)=>{const r=Re(ut,e.__scopeDialog),n=c.useRef(!1),o=c.useRef(!1);return s.jsx(wa,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,i;(l=e.onCloseAutoFocus)==null||l.call(e,a),a.defaultPrevented||(n.current||(i=r.triggerRef.current)==null||i.focus(),a.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:a=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),wa=c.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:a,...l}=e,i=Re(ut,r),d=c.useRef(null),u=X(t,d);return Zs(),s.jsxs(s.Fragment,{children:[s.jsx(sn,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:a,children:s.jsx(nn,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":Sn(i.open),...l,ref:u,onDismiss:()=>i.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Sf,{titleId:i.titleId}),s.jsx(Nf,{contentRef:d,descriptionId:i.descriptionId})]})]})}),wn="DialogTitle",Sa=c.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Re(wn,r);return s.jsx(U.h2,{id:o.titleId,...n,ref:t})});Sa.displayName=wn;var ja="DialogDescription",wf=c.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Re(ja,r);return s.jsx(U.p,{id:o.descriptionId,...n,ref:t})});wf.displayName=ja;var Na="DialogClose",Ca=c.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Re(Na,r);return s.jsx(U.button,{type:"button",...n,ref:t,onClick:G(e.onClick,()=>o.onOpenChange(!1))})});Ca.displayName=Na;function Sn(e){return e?"open":"closed"}var _a="DialogTitleWarning",[nm,Ea]=Qi(_a,{contentName:ut,titleName:wn,docsSlug:"dialog"}),Sf=({titleId:e})=>{const t=Ea(_a),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return c.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},jf="DialogDescriptionWarning",Nf=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ea(jf).contentName}}.`;return c.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Cf=ha,_f=ga,Ef=va,Af=ba,Tf=ya,Pf=Sa,kf=Ca;function Rf({...e}){return s.jsx(Cf,{"data-slot":"dialog",...e})}function Mf({...e}){return s.jsx(_f,{"data-slot":"dialog-trigger",...e})}function If({...e}){return s.jsx(Ef,{"data-slot":"dialog-portal",...e})}function Of({className:e,...t}){return s.jsx(Af,{"data-slot":"dialog-overlay",className:te("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Df({className:e,children:t,...r}){return s.jsxs(If,{"data-slot":"dialog-portal",children:[s.jsx(Of,{}),s.jsxs(Tf,{"data-slot":"dialog-content",className:te("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,s.jsxs(kf,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(ds,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Lf({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-header",className:te("flex flex-col gap-2 text-center sm:text-left",e),...t})}function $f({className:e,...t}){return s.jsx(Pf,{"data-slot":"dialog-title",className:te("text-lg leading-none font-semibold",e),...t})}function zf({className:e,...t}){return s.jsx("textarea",{"data-slot":"textarea",className:te("resize-none border-white/10 placeholder:text-muted-foreground focus-visible:border-cyan-400/60 focus-visible:ring-cyan-400/30 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-xl border bg-white/5 backdrop-blur-md px-3 py-2 text-base transition-[box-shadow,border,background] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm shadow-[inset_0_1px_0_0_rgba(255,255,255,0.06)]",e),...t})}let is=!1;async function Bf(e){const{getDocument:t,GlobalWorkerOptions:r}=await vt(()=>import("./pdf-98eec9c6.js"),["assets/pdf-98eec9c6.js","assets/vendor-dd3c4855.js","assets/ui-7332e38b.js","assets/charts-3c6eb5ce.js","assets/motion-6ccf754a.js"]);if(!is){try{r.workerSrc=new URL("/assets/pdf.worker.min-1baa1844.mjs",self.location).toString()}catch{}is=!0}const n=await e.arrayBuffer(),a=await t({data:n,isEvalSupported:!1,enableScripting:!1}).promise;let l="";for(let i=1;i<=a.numPages;i++){const f=((await(await a.getPage(i)).getTextContent()).items||[]).map(m=>typeof m.str=="string"?m.str:"").join(" ");l+=`
${f}
`}return l}function Ff(e){var o;const r=e.replace(/\r/g,"").replace(/\u00A0/g," ").replace(/\s{2,}/g," ").trim().split(/(?:(?:^|\s)(\d{1,3})\.)\s/g),n=[];for(let a=1;a<r.length;a+=2){const l=r[a],i=r[a+1]||"";if(!l||!i)continue;const d=i.split(/(?=\s?[A-DА-Г]\)\s)/g),u=((o=d.shift())==null?void 0:o.trim())||i.trim(),f=[];for(const m of d){const p=m.match(/^[A-DА-Г]\)\s*(.*)$/);p&&f.push(p[1].trim())}if(f.length>=2){const m={id:`import-hist-${l}`,question:u,type:"multiple_choice",options:f.slice(0,6),correct_answer:0,correctAnswer:0,subject:"history_kz",difficulty:"medium"};n.push(m)}}return n}const Wf=({onImported:e})=>{const[t,r]=c.useState(!1),[n,o]=c.useState("history_kz"),[a,l]=c.useState(null),[i,d]=c.useState(""),[u,f]=c.useState(""),[m,p]=c.useState(!1),[g,x]=c.useState(0),[h,v]=c.useState([]),b=async()=>{try{p(!0);let w=[];if(a){if(a.type==="application/pdf"||a.name.toLowerCase().endsWith(".pdf")){const C=await Bf(a);w=Ff(C)}else if(a.name.toLowerCase().endsWith(".json")){const C=JSON.parse(await a.text());w=Array.isArray(C)?C:C.questions||[]}else if(a.name.toLowerCase().endsWith(".csv")){const N=(await a.text()).split(/\n+/);for(const A of N){const T=A.split(/,|;\t?/).map(_=>_.trim());if(T.length>=6){const[_,P,E,M,R,B]=T,I=["A","B","C","D","a","b","c","d"].indexOf(B),D=I===-1?0:I%4;w.push({id:`import-${Math.random().toString(36).slice(2)}`,question:_,type:"multiple_choice",options:[P,E,M,R],correct_answer:D,correctAnswer:D})}}}}else if(i.trim()){const C=JSON.parse(i);w=Array.isArray(C)?C:C.questions||[]}const j=u.split(/[,\s]+/).map(C=>C.trim().toUpperCase()).filter(Boolean).map(C=>["A","B","C","D","E","F"].indexOf(C)),S=w.map((C,N)=>{const A=Number.isInteger(j[N])&&j[N]>=0?j[N]:typeof C.correct_answer=="number"?C.correct_answer:0;return{...C,subject:n,correct_answer:A,correctAnswer:A}});v(S),x(S.length)}catch(w){console.error(w),v([]),x(0)}finally{p(!1)}},y=async()=>{h.length&&(await we.importENTQuestions(n,h),r(!1),v([]),x(0),e&&e())};return s.jsxs(Rf,{open:t,onOpenChange:r,children:[s.jsx(Mf,{asChild:!0,children:s.jsx(ie,{variant:"outline",children:"Загрузить вопросы (PDF/JSON/CSV)"})}),s.jsxs(Df,{className:"sm:max-w-xl",children:[s.jsx(Lf,{children:s.jsx($f,{children:"Импорт вопросов ЕНТ"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Предмет (ENT ключ)"}),s.jsxs("select",{className:"border rounded px-2 py-2 text-sm",value:n,onChange:w=>o(w.target.value),children:[s.jsx("option",{value:"history_kz",children:"История Казахстана"}),s.jsx("option",{value:"math_literacy",children:"Математическая грамотность"}),s.jsx("option",{value:"math_profile",children:"Профильная математика"}),s.jsx("option",{value:"physics_profile",children:"Профильная физика"})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Файл (PDF/JSON/CSV)"}),s.jsx(Je,{type:"file",accept:".pdf,.json,.csv",onChange:w=>{var j;return l(((j=w.target.files)==null?void 0:j[0])||null)}})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Или вставьте JSON массив вопросов"}),s.jsx(zf,{value:i,onChange:w=>d(w.target.value),rows:4})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Ключ ответов (опционально, через пробел/запятую, напр. A B C D ...)"}),s.jsx(Je,{value:u,onChange:w=>f(w.target.value),placeholder:"A B C D ..."})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ie,{onClick:b,disabled:m,children:"Распознать"}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Найдено: ",g]})]}),s.jsx("div",{className:"flex items-center gap-2 justify-end",children:s.jsx(ie,{onClick:y,disabled:!h.length,children:"Импортировать"})})]})]})]})},Uf=()=>{const{user:e}=$t();Ct();const[t,r]=c.useState([{id:"1",content:"Привет! Я ваш умный помощник по образованию. Могу помочь с объяснением сложных тем, подготовкой к тестам или ответить на любые учебные вопросы. Что вас интересует?",sender:"ai",timestamp:new Date,isDemo:!0}]),[n,o]=c.useState(""),[a,l]=c.useState(!1),[i]=c.useState([{id:"explain",text:"Объясни тему",icon:Jt},{id:"test-prep",text:"Подготовка к тесту",icon:Zt},{id:"question",text:"Задать вопрос",icon:jn},{id:"tips",text:"Советы по учебе",icon:Nn}]),d=c.useRef(null);c.useEffect(()=>{if(d.current){const x=d.current.querySelector("[data-radix-scroll-area-viewport]");x&&(x.scrollTop=x.scrollHeight)}},[t]);const u=async(x,h)=>{var b;if(!x.trim())return;const v={id:Date.now().toString(),content:x,sender:"user",timestamp:new Date,context:h};r(y=>[...y,v]),o(""),l(!0);try{let y=e?`
        Пользователь: ${e.name} (${e.role})
        Тестов пройдено: ${e.tests_completed||0}
        Средний балл: ${e.average_score||0}%
        Время изучения: ${e.total_study_time||0} минут
        ${h?`Дополнительный контекст: ${h}`:""}
      `:h||"";if(/анализ|результ|итог|сильн|слаб|домаш|талдау|нәтиже|қорытынды|тақырып/i.test(x))try{const A=await we.getResults();if(A&&A.length>0){const T=A.sort((re,ye)=>new Date(ye.completed_at).getTime()-new Date(re.completed_at).getTime())[0],_=Array.isArray(T.answers)?T.answers.length:0,P=Array.isArray(T.answers)?T.answers.filter(re=>re.correct).length:Math.round(T.score/100*_),E=Math.round(T.score),M=((b=T.test_id)==null?void 0:b.replace("test-",""))||"overall",R=[],B=[];E>=85&&R.push("Высокая точность ответов и уверенное владение основами"),E>=70&&E<85&&R.push("Хорошая базовая подготовка, требуется точечное улучшение"),E<70&&B.push("Недостаточное закрепление базовых тем, нужна системная практика"),_-P>0&&B.push("Ошибки в вопросах средней/высокой сложности");const I={mathematics:{ru:["Линейные уравнения","Проценты и доли","Дроби и сравнение чисел"],kz:["Сызықтық теңдеулер","Пайыздар мен үлестер","Бөлшектер және сандарды салыстыру"]},history:{ru:["История Казахстана XIX века","Реформы и даты"],kz:["XIX ғасырдағы Қазақстан тарихы","Реформалар мен даталар"]},physics:{ru:["Динамика: второй закон Ньютона","Единицы СИ и размерности"],kz:["Динамика: Ньютонның екінші заңы","SI бірліктері және өлшемдер"]},overall:{ru:["Повторение базовой теории","Разбор типичных ошибок"],kz:["Негізгі теорияны қайталау","Жиі кездесетін қателерді талдау"]}},D=/[әғқңөұүһі]|(сәлем|қалай|ия|жоқ|үй|тапсырма|талдау)/i.test(x),O=(I[M]||I.overall)[D?"kz":"ru"],F=D?["Осы тақырып бойынша 20 тапсырма орындаңыз","Қателескен сұрақтарды қайта қарап шығыңыз","Қысқаша конспект жасаңыз (5–7 тармақ)"]:["Выполните 20 заданий по теме","Пересмотрите вопросы, где были ошибки","Составьте краткий конспект (5–7 пунктов)"],ne={subject:M,percentage:E,correct:P,total:_,timeSpent:T.time_spent,strengths:R,weaknesses:B,topics:O,homework:F};y+=`
ANALYZE_TEST_RESULTS: ${JSON.stringify(ne)}`}}catch{}const j=/[әғқңөұүһі]|(сәлем|қалай|ия|жоқ|үй|тапсырма|талдау)/i.test(x)?"kz":"ru",S="Режим ассистента: помогай кратко, структурировано, по шагам; используй язык пользователя (ru/kz). Если просят анализ теста — дай сильные/слабые стороны и план. Если просят задачи ЕНТ — предлагай аналогичные примеры.",C=await we.chatWithAI(`${S}

${x}`,y,j),N={id:(Date.now()+1).toString(),content:C.response,sender:"ai",timestamp:new Date,isDemo:C.isDemo};r(A=>[...A,N])}catch(y){console.error("AI chat error:",y);const w={id:(Date.now()+1).toString(),content:"Извините, произошла ошибка при обработке вашего запроса. Попробуйте еще раз или обратитесь к преподавателю.",sender:"ai",timestamp:new Date,isDemo:!0};r(j=>[...j,w]),Se.error("Ошибка ИИ помощника")}finally{l(!1)}},f=x=>{x.preventDefault(),u(n)},m=x=>["explain","test-prep","question","tips"].includes(x),p=x=>{if(!m(x))return;const v={explain:"Объясни мне сложную тему простыми словами, приведи 1-2 примера и мини-план практики","test-prep":"Составь персональный план подготовки к ЕНТ по математике/физике на 2 недели (коротко)",question:"У меня есть вопрос по учебе: ",tips:"Дай 5 кратких советов для эффективного обучения с примерами"}[x];v&&u(v,`quick_action:${x}`)},g=x=>x.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(ce,{className:"h-[600px] flex flex-col shadow-lg border-0",children:[s.jsx(pe,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-t-lg",children:s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(It,{className:"h-6 w-6"}),"ИИ Помощник по обучению",s.jsx(Oe,{variant:"secondary",className:"ml-auto bg-white/20 text-white border-white/30",children:e?`Для ${e.name}`:"Образовательный помощник"})]})}),s.jsxs(de,{className:"flex-1 flex flex-col p-0",children:[s.jsx(tn,{ref:d,className:"flex-1 p-4",children:s.jsxs("div",{className:"space-y-4",children:[t.map(x=>s.jsxs("div",{className:`flex items-start gap-3 ${x.sender==="user"?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${x.sender==="user"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-gradient-to-r from-gray-200 to-gray-300 text-gray-700"}`,children:x.sender==="user"?s.jsx(Mt,{className:"h-4 w-4"}):s.jsx(It,{className:"h-4 w-4"})}),s.jsxs("div",{className:`flex-1 max-w-[80%] ${x.sender==="user"?"text-right":""}`,children:[s.jsxs("div",{className:`rounded-lg p-3 shadow-sm ${x.sender==="user"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-gray-50 text-gray-900 border border-gray-200"}`,children:[s.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:x.content}),x.isDemo&&x.sender==="ai"&&s.jsx("div",{className:"mt-2 pt-2 border-t border-gray-300 opacity-70",children:s.jsx("span",{className:"text-xs",children:"Демо-режим"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g(x.timestamp)})]})]},x.id)),a&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-r from-gray-200 to-gray-300 text-gray-700 flex items-center justify-center",children:s.jsx(It,{className:"h-4 w-4"})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 flex items-center gap-2 border border-gray-200",children:[s.jsx(Cn,{className:"h-4 w-4 animate-spin text-blue-500"}),s.jsx("span",{className:"text-gray-600",children:"ИИ анализирует вопрос..."})]})]})]})}),s.jsxs("div",{className:"border-t bg-gray-50 p-4",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Быстрые действия:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(x=>{const h=x.icon;return s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>p(x.id),className:"flex items-center gap-1 hover:bg-blue-50 hover:border-blue-300 transition-colors",disabled:a,children:[s.jsx(h,{className:"h-3 w-3"}),x.text]},x.id)})})]}),s.jsxs("form",{onSubmit:f,className:"flex gap-2",children:[s.jsx(Je,{value:n,onChange:x=>o(x.target.value),placeholder:"Задайте вопрос или опишите, с чем нужна помощь...",disabled:a,className:"flex-1 border-gray-300 focus:border-blue-500 focus:ring-blue-500"}),s.jsx(ie,{type:"submit",disabled:!n.trim()||a,size:"icon",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:a?s.jsx(Cn,{className:"h-4 w-4 animate-spin"}):s.jsx(us,{className:"h-4 w-4"})})]})]})]})]}),s.jsx(ce,{className:"mt-4 border-0 shadow-lg",children:s.jsxs(de,{className:"pt-6",children:[s.jsx("h3",{className:"font-medium mb-3 text-gray-900",children:"Возможности ИИ помощника:"}),s.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[s.jsx(Jt,{className:"h-5 w-5 text-blue-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Объяснение сложных тем"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-lg",children:[s.jsx(Zt,{className:"h-5 w-5 text-purple-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Подготовка к тестам"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[s.jsx(jn,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ответы на вопросы"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-yellow-50 rounded-lg",children:[s.jsx(Nn,{className:"h-5 w-5 text-yellow-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Советы по обучению"})]})]}),e&&s.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Ваш прогресс:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Тестов пройдено:"}),s.jsx("span",{className:"font-medium text-blue-600 ml-1",children:e.tests_completed||0})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Средний балл:"}),s.jsxs("span",{className:"font-medium text-green-600 ml-1",children:[e.average_score||0,"%"]})]})]})]})]})})]})},Vf=()=>{const{t:e}=Ct(),{language:t,setLanguage:r}=Ct();$t();const[n,o]=c.useState([]),[a,l]=c.useState(!0),[i,d]=c.useState(!1),[u,f]=c.useState(0),[m,p]=c.useState(null),[g,x]=c.useState([]),[h,v]=c.useState([]),[b,y]=c.useState(!1),[w,j]=c.useState(900),[S,C]=c.useState(Date.now()),[N,A]=c.useState(0),[T,_]=c.useState(0),[P,E]=c.useState(!1),[M,R]=c.useState("practice"),[B,I]=c.useState(!1),[D,O]=c.useState("math"),[F,ne]=c.useState([]),[re,ye]=c.useState({}),[oe,Me]=c.useState(""),[Ge,Ie]=c.useState(!1),[$,Y]=c.useState(!1),le=k=>{if(!k)return!1;const L=String(k).trim();return/^(data:image\/.+;base64,|https?:\/\/)/i.test(L)&&/(\.png|\.jpe?g|\.gif|\.webp|\.svg)(\?.*)?$/i.test(L)||/^data:image\//i.test(L)};c.useEffect(()=>{q()},[D]),c.useEffect(()=>{let k;return i&&!b&&M==="timed"&&(k=setInterval(()=>{j(L=>L<=1?(fe(),0):L-1)},1e3)),()=>clearInterval(k)},[i,b,M]);const q=async()=>{try{const L=ia().tracks[D],H=await we.getQuestions(),me={history:"history_kz",mathematics:"math_profile",physics:"physics_profile",math_literacy:"math_literacy"},z=Z=>me[Z.subject]||Z.subject;let J=[];const se=[];for(const Z of L.sections){const he=H.filter(W=>z(W)===Z.key&&(!W.lang||W.lang===t)),Ke=(he.length?he:H.filter(W=>(W.subject||"").toLowerCase().includes(Z.key.split("_")[0]))).slice(0,Z.numQuestions);J=J.concat(Ke),se.push({key:Z.key,title:Z.title,count:Ke.length,mandatory:!!Z.mandatory})}J.length===0&&(J=H),o(J),ne(se)}catch(k){console.error("Error loading questions:",k),Se.error("Ошибка загрузки вопросов")}finally{l(!1)}},Q=async()=>{I(!0);try{const k=await we.getQuestions(),L={history:"history_kz",mathematics:"math_profile",physics:"physics_profile",math_literacy:"math_literacy"},H=W=>L[W.subject]||W.subject,J=t==="kz"?{history_kz:"Қазақстан тарихы",math_literacy:"Математикалық сауаттылық",math_profile:"Математика",physics_profile:"Физика"}:{history_kz:"История Казахстана",math_literacy:"Математическая грамотность",math_profile:"Математика",physics_profile:"Физика"},se=[{key:"history_kz",num:20},{key:"math_literacy",num:15},{key:"math_profile",num:40},{key:"physics_profile",num:40}],Z=W=>{const xe=Array.isArray(W.options)?[...W.options]:[];for(;xe.length<4;)xe.push(`Вариант ${xe.length+1}`);xe.length>4&&(xe.length=4);let ve=typeof W.correctAnswer=="number"?W.correctAnswer:Array.isArray(W.correct_answer)?W.correct_answer[0]??0:W.answerIndex??0;return ve=Math.min(Math.max(0,ve),3),{...W,type:"single",options:xe,correctAnswer:ve,correct_answer:void 0}},he=W=>{if(W.length<=10)return W.map(Z);const xe=W.slice(0,W.length-10).map(Z),ve=W.slice(W.length-10).map(We=>{let ht=Array.isArray(We.options)?[...We.options]:[];for(;ht.length<6;)ht.push(`Вариант ${ht.length+1}`);ht.length>6&&(ht.length=6);const Aa=Math.max(1,Math.min(3,Math.floor(Math.random()*3)+1)),wr=new Set;for(;wr.size<Aa;)wr.add(Math.floor(Math.random()*6));return{...We,type:"multi_select",options:ht,correct_answer:Array.from(wr).sort((Ta,Pa)=>Ta-Pa)}});return[...xe,...ve]};let Fe=[];const Ke=[];for(const W of se){const xe=k.filter(We=>H(We)===W.key&&(!We.lang||We.lang===t));if(xe.length<W.num){Se.error(`Недостаточно вопросов для раздела: ${J[W.key]} (нужно ${W.num}, найдено ${xe.length})`),I(!1);return}let ve=xe.slice(0,W.num);W.key==="math_profile"||W.key==="physics_profile"?ve=he(ve):ve=ve.map(Z),Fe=Fe.concat(ve),Ke.push({key:W.key,title:J[W.key]||W.key,count:ve.length,mandatory:!0})}if(Fe.length===0){Se.error("Недостаточно вопросов для пробного ЕНТ");return}o(Fe),ne(Ke),R("ai-generated"),d(!0),f(0),v([]),y(!1),p(null),x([]),C(Date.now()),A(0),Se.success("Пробный ЕНТ запущен")}catch(k){console.error("Error starting trial ENT:",k),Se.error("Ошибка запуска пробного ЕНТ")}finally{I(!1)}},K=()=>{const k=n[u],L=Date.now()-S;let H=!1;if(k.type==="multi_select"){const z=Array.isArray(k.correct_answer)?k.correct_answer:[],J=[...g].sort(),se=[...z].sort();H=J.length>0&&J.length===se.length&&J.every((Z,he)=>Z===se[he])}else{if(m===null)return;H=m===k.correctAnswer}const me={questionId:k.id,selectedAnswer:k.type==="multi_select"?g:m,isCorrect:H,timeSpent:L};v(z=>[...z,me]),A(z=>z+L),ye(z=>({...z,[u]:!0})),u<n.length-1?(f(z=>z+1),p(null),x([]),C(Date.now())):fe()},fe=async()=>{var L,H,me,z;y(!0);const k=h.filter(J=>J.isCorrect).length;_(k);try{const J=h.map(se=>({questionId:se.questionId,selectedAnswer:se.selectedAnswer,correct:se.isCorrect}));await we.submitTest({answers:J,score:k,total:n.length,timeSpent:Math.round(N/1e3),subject:((L=n[0])==null?void 0:L.subject)||"general",difficulty:((H=n[0])==null?void 0:H.difficulty)||"medium"}),Se.success("Результаты сохранены!");try{Ie(!0);const se=(await we.getResults()).sort((Z,he)=>new Date(he.completed_at).getTime()-new Date(Z.completed_at).getTime())[0];if(se){const Z=Array.isArray(se.answers)?se.answers.length:n.length,he=Array.isArray(se.answers)?se.answers.filter(We=>We.correct).length:k,Fe={subject:((me=se.test_id)==null?void 0:me.replace("test-",""))||((z=n[0])==null?void 0:z.subject)||"overall",percentage:Math.round(he/Z*100),correct:he,total:Z,timeSpent:se.time_spent,strengths:[],weaknesses:[],topics:[],homework:[]},xe=t==="kz"?`Сен — ЕНТ бойынша талапшыл әрі қолдаушы тьюторсың. Нәтиже JSON-ына талдау жасап, нақты ұсыныстар бер.

Жауап форматы (қысқа, нақты, маркерленген):
1) Қорытынды: пайыз, вердикт (>=90 Өте жақсы, 70–89 Жақсы, 50–69 Қанағаттанарлық, <50 Базаны күшейту керек) және уақыт.
2) Күшті жақтар — 3–5 тармақ (тақырып/дағды бойынша).
3) Әлсіз жақтар — 3–5 тармақ (білім, ұқыпсыздық, уақытты басқару).
4) Ұсынымдар — 3–5 нақты әрекет (қанша тапсырма, қандай тәсіл, қандай қателерге назар аудару).
5) Үй тапсырмасы — 5–7 тармақ: тақырып → тапсырма саны/уақыты, тапсырма түрі (тест/есеп/график), бақылау (порог %).
6) 7 күндік жоспар — әр күн: тақырыптар/минуттар/мақсатты нәтиже.
7) Келесі пробниктен өтуге дайындық — иә/жоқ және өту порогы.

Талаптар: қазақ тілінде, артық сөзсіз, барынша нақты. Дерек жетіспесе — «мүмкін» деп белгіле.`:`Ты — строгий, но доброжелательный тьютор ЕНТ. Проанализируй JSON с результатами и дай практичные рекомендации.

Формат ответа (кратко, по делу, списками):
1) Итог: процент, вердикт (>=90 Отлично, 70–89 Хорошо, 50–69 Удовлетворительно, <50 Нужна базовая подготовка) и время.
2) Сильные стороны — 3–5 буллетов (по темам/навыкам).
3) Слабые стороны — 3–5 буллетов (темы/ошибки: знание, невнимательность, тайм‑менеджмент).
4) Рекомендации — 3–5 конкретных действий (как тренировать, сколько задач, на что смотреть в решениях).
5) Домашнее задание — 5–7 пунктов: тема → кол-во задач/время, тип задач (тестовые/расчёт/графики), контроль (порог %).
6) План на 7 дней — каждый день: темы/минуты/целевой результат.
7) Готовность к следующему пробнику — да/нет и целевой порог, когда переходить.

Требования: русский язык, без лишней «воды», максимум конкретики. Если данных мало — сделай пометки «вероятно».`,ve=await we.chatWithAI(xe,`ANALYZE_TEST_RESULTS: ${JSON.stringify(Fe)}`,t);Me(ve.response)}}catch{}finally{Ie(!1)}}catch(J){console.error("Error submitting test:",J),Se.error("Ошибка сохранения результатов")}},ae=c.useMemo(()=>{const k=[];let L=0;for(const H of F){const me=L,z=L+H.count-1;H.count>0&&k.push({start:me,end:z,key:H.key,title:H.title,mandatory:H.mandatory}),L+=H.count}return k},[F]),Qe=c.useMemo(()=>ae.findIndex(k=>u>=k.start&&u<=k.end),[ae,u]),_e=ae[Qe]||null,st=()=>{d(!1),y(!1),f(0),p(null),v([]),_(0),A(0),E(!1)};if(a)return s.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-white",children:"Загрузка тестов..."})]})});if(!i)return s.jsx("div",{className:"flex-1 overflow-auto bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl mb-2 text-center",children:e("tests.title")}),s.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Подготовка к ЕНТ по направлениям «Математика» и «Физика». Обязательные секции (История Казахстана, Математическая грамотность) включаются автоматически."}),s.jsxs(ce,{className:"mb-6",children:[s.jsx(pe,{children:s.jsx(ge,{children:"Направление подготовки"})}),s.jsxs(de,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Язык / Тіл:"}),s.jsx(ie,{size:"sm",variant:t==="ru"?"default":"outline",onClick:()=>r("ru"),children:"Рус"}),s.jsx(ie,{size:"sm",variant:t==="kz"?"default":"outline",onClick:()=>r("kz"),children:"Қаз"})]}),s.jsxs("div",{className:"flex gap-2 opacity-50 pointer-events-none",role:"radiogroup","aria-label":"Track",children:[s.jsx(ie,{"aria-checked":D==="math",role:"radio",variant:D==="math"?"default":"outline",children:"Математика"}),s.jsx(ie,{"aria-checked":D==="physics",role:"radio",variant:D==="physics"?"default":"outline",children:"Физика"})]}),s.jsx("div",{className:"mt-4 text-sm text-gray-600",children:"Обязательные секции: История Казахстана и Математическая грамотность. Направление профиля временно фиксировано."}),F.length>0&&s.jsx("div",{className:"mt-6 grid gap-3 sm:grid-cols-2",children:F.map(k=>{var L;return s.jsxs("div",{className:"p-3 rounded border bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:k.title}),k.mandatory&&s.jsx(Oe,{variant:"secondary",children:"Обязательно"})]}),s.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Вопросов: ",k.count," (план: ",((L=ir.tracks[D].sections.find(H=>H.key===k.key))==null?void 0:L.numQuestions)||0,")"]})]},k.key)})}),s.jsx("div",{className:"mt-6",children:s.jsx(Wf,{onImported:q})})]})]}),s.jsx("div",{className:"mb-8",children:s.jsxs(ce,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(pe,{children:s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(Zt,{className:"h-5 w-5 text-purple-600"}),"Пробный ЕНТ"]})}),s.jsxs(de,{children:[s.jsx("p",{className:"text-gray-700 mb-4",children:"Содержит четыре раздела:"}),s.jsxs("ul",{className:"list-disc pl-5 text-gray-700 space-y-1 mb-4",children:[s.jsx("li",{children:"История Казахстана"}),s.jsx("li",{children:"Математическая грамотность"}),s.jsx("li",{children:"Математика"}),s.jsx("li",{children:"Физика"})]}),s.jsx(ie,{onClick:Q,className:"w-full",disabled:B||a,children:"Начать пробный ЕНТ"})]})]})}),n.length>0&&s.jsxs(ce,{children:[s.jsx(pe,{children:s.jsx(ge,{children:"Доступные вопросы"})}),s.jsxs(de,{children:[ae.length>0&&s.jsx("div",{className:"space-y-2 mb-4",children:ae.map((k,L)=>s.jsxs("div",{className:"text-sm text-gray-700",children:[s.jsxs("span",{className:"font-medium",children:[L+1,". ",k.title]}),": ",k.start+1,"–",k.end+1,k.mandatory&&s.jsx(Oe,{className:"ml-2",variant:"outline",children:"Обязательно"})]},k.key))}),s.jsxs("p",{className:"text-gray-600",children:["Всего вопросов: ",s.jsx("span",{className:"font-semibold",children:n.length})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:Array.from(new Set(n.map(k=>k.subject))).map(k=>s.jsx(Oe,{variant:"secondary",children:k},k))})]})]})]})})});if(b){const k=Math.round(T/n.length*100),L=Math.round(N/1e3/n.length);return s.jsx("div",{className:"flex-1 overflow-auto bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(ce,{className:"mb-8",children:[s.jsx(pe,{className:"text-center",children:s.jsxs(ge,{className:"flex items-center justify-center gap-2 text-2xl",children:[s.jsx(Mr,{className:"h-6 w-6 text-yellow-500"}),"Результаты теста"]})}),s.jsxs(de,{children:[s.jsxs("div",{className:"flex flex-wrap gap-6 mb-6",children:[s.jsxs("div",{className:"text-center flex-1 min-w-[220px]",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:T}),s.jsxs("div",{className:"text-gray-600",children:["из ",n.length]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Правильных ответов"})]}),s.jsxs("div",{className:"text-center flex-1 min-w-[220px]",children:[s.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[k,"%"]}),s.jsx("div",{className:"text-gray-600",children:"Результат"}),s.jsx("div",{className:"text-sm text-gray-500",children:k>=90?"Отлично!":k>=70?"Хорошо":k>=50?"Удовлетворительно":"Нужно подучить"})]}),s.jsxs("div",{className:"text-center flex-1 min-w-[220px]",children:[s.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[L,"с"]}),s.jsx("div",{className:"text-gray-600",children:"на вопрос"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Среднее время"})]})]}),s.jsx(it,{value:k,className:"mb-6"}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsxs(ie,{onClick:()=>E(!P),variant:"outline",children:[P?"Скрыть":"Показать"," объяснения"]}),s.jsx(ie,{onClick:st,children:"Пройти еще раз"})]})]})]}),P&&s.jsx("div",{className:"space-y-4",children:n.map((H,me)=>{const z=h[me],J=ae.findIndex(Z=>me>=Z.start&&me<=Z.end),se=J!==-1&&me===ae[J].start;return s.jsx(ce,{className:`border-l-4 ${z!=null&&z.isCorrect?"border-l-green-500":"border-l-red-500"}`,children:s.jsxs(de,{className:"pt-6",children:[se&&s.jsxs("div",{className:"mb-3 p-2 rounded bg-gray-50 border text-sm text-gray-700",children:["Раздел: ",ae[J].title," ",ae[J].mandatory&&s.jsx(Oe,{className:"ml-2",variant:"outline",children:"Обязательно"})]}),s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[z!=null&&z.isCorrect?s.jsx($a,{className:"h-5 w-5 text-green-500 mt-1"}):s.jsx(za,{className:"h-5 w-5 text-red-500 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-medium mb-2",children:["Вопрос ",me+1,": ",H.question]}),s.jsx("div",{className:"space-y-1",children:(H.options||[]).map((Z,he)=>{const Fe=Array.isArray(H.correct_answer)&&H.correct_answer.includes(he),Ke=(z==null?void 0:z.selectedAnswer)===he,W=Array.isArray(z==null?void 0:z.selectedAnswer)&&(z==null?void 0:z.selectedAnswer).includes(he),xe=he===H.correctAnswer,ve=H.type==="multi_select"?Fe?"bg-green-100 text-green-800":W&&!(z!=null&&z.isCorrect)?"bg-red-100 text-red-800":"bg-gray-50":xe?"bg-green-100 text-green-800":Ke&&!(z!=null&&z.isCorrect)?"bg-red-100 text-red-800":"bg-gray-50";return s.jsx("div",{className:`p-2 rounded text-sm ${ve}`,children:Z},he)})}),H.explanation&&s.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded text-sm",children:[s.jsx("strong",{children:"Объяснение:"})," ",H.explanation]})]})]})]})},H.id)})}),s.jsxs(ce,{className:"mt-6",children:[s.jsx(pe,{children:s.jsx(ge,{children:t==="kz"?"ИИ талдауы":"Анализ ИИ"})}),s.jsx(de,{children:Ge?s.jsx("p",{className:"text-gray-600",children:t==="kz"?"ИИ талдауда...":"ИИ анализирует..."}):s.jsx("div",{className:"whitespace-pre-wrap text-gray-800",children:oe||(t==="kz"?"Нәтиже бойынша талдау қолжетімді.":"Анализ доступен для результатов.")})})]})]})})})}const Ee=n[u],ot=(u+1)/n.length*100;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-1 overflow-auto bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex justify-between items-center mb-4",children:s.jsxs("h1",{className:"text-2xl",children:["Вопрос ",u+1," из ",n.length]})}),s.jsx(it,{value:ot,className:"mb-2"}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-sm text-gray-600",children:[s.jsxs("span",{children:["Прогресс: ",Math.round(ot),"%"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[_e&&s.jsxs("span",{className:"px-2 py-1 rounded bg-gray-100 text-gray-800",children:["Раздел: ",_e.title," (",u-_e.start+1,"/",_e.end-_e.start+1,")"]}),s.jsxs("span",{children:["Режим: ",M==="practice"?"Практика":M==="timed"?"На время":"ИИ тест"]})]})]})]}),s.jsxs(ce,{children:[s.jsxs(pe,{children:[s.jsxs(ge,{className:"text-xl",children:[le(Ee.imageUrl)&&s.jsx("div",{className:"mb-3",children:s.jsx("img",{src:Ee.imageUrl,alt:"Иллюстрация к вопросу",className:"max-h-72 w-auto rounded-lg border object-contain mx-auto"})}),s.jsx(hf,{text:Ee.question})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Oe,{variant:"secondary",children:Ee.subject}),s.jsx(Oe,{variant:"outline",children:Ee.difficulty})]})]}),s.jsxs(de,{children:[s.jsxs("div",{className:"flex gap-3 mb-4 flex-wrap items-center justify-between",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-2 py-1 rounded border bg-gray-50",children:[s.jsx("span",{className:`h-2 w-2 rounded-full ${re[u]?"bg-green-500":"bg-gray-300"}`}),s.jsx("span",{className:"text-xs text-gray-700",children:re[u]?"Отвечено":"Не отвечено"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-xs text-gray-600",children:"Доступные предметы:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:ae.map((k,L)=>s.jsx(ie,{size:"sm",variant:L===Qe?"default":"outline",onClick:()=>{f(k.start)},children:k.title},k.key))})]}),s.jsx(ie,{variant:"outline",size:"sm",onClick:fe,children:"Завершить тест досрочно"})]}),s.jsx("div",{className:"space-y-3 mb-6",children:Ee.type==="multi_select"?(Ee.options||[]).map((k,L)=>{const H=g.includes(L);return s.jsxs("label",{className:`w-full p-4 flex items-center gap-3 rounded-lg border cursor-pointer ${H?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:H,onChange:me=>{x(z=>me.target.checked?[...z,L]:z.filter(J=>J!==L))}}),s.jsxs("span",{className:"font-medium mr-1",children:[String.fromCharCode(65+L),"."]}),s.jsx("span",{className:"flex-1",children:le(k)?s.jsx("img",{src:String(k),alt:`Вариант ${L+1}`,className:"max-h-56 w-auto rounded border object-contain"}):k})]},L)}):(Ee.options||[]).map((k,L)=>s.jsxs("button",{onClick:()=>p(L),className:`w-full p-4 text-left rounded-lg border transition-colors ${m===L?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[s.jsxs("span",{className:"font-medium mr-3",children:[String.fromCharCode(65+L),"."]}),s.jsx("span",{className:"inline-flex items-center gap-2",children:le(k)?s.jsx("img",{src:String(k),alt:`Вариант ${L+1}`,className:"max-h-20 w-auto rounded border object-contain"}):k})]},L))}),s.jsx(ie,{onClick:K,disabled:Ee.type==="multi_select"?g.length===0:m===null,className:"w-full",children:u===n.length-1?"Завершить тест":"Следующий вопрос"}),s.jsx("div",{className:"mt-4 grid grid-cols-8 sm:grid-cols-12 gap-2",children:n.map((k,L)=>s.jsx("button",{onClick:()=>f(L),className:`text-xs rounded border px-2 py-1 ${L===u?"border-blue-500 bg-blue-50":re[L]?"border-green-500 bg-green-50":"border-gray-200 hover:bg-gray-50"}`,children:L+1},L))})]})]})]})})}),s.jsx("button",{type:"button",onClick:()=>Y(k=>!k),className:"fixed bottom-4 right-4 z-40 rounded-full px-4 py-3 shadow-lg text-white",style:{background:"linear-gradient(135deg, #4f46e5, #3730a3)"},"aria-label":t==="kz"?"Көмекші чат":"Чат помощника",children:$?t==="kz"?"Жабу":"Закрыть":"Chat"}),$&&s.jsx("div",{className:"fixed bottom-20 right-4 z-40 w-[360px] max-w-[92vw] rounded-xl border bg-white shadow-2xl overflow-hidden",style:{height:"520px"},children:s.jsx("div",{className:"h-full overflow-auto p-2",children:s.jsx(Uf,{})})})]})},Hf=()=>{const{user:e}=$t(),{t}=Ct(),[r,n]=c.useState(null),[o,a]=c.useState(!0);if(c.useEffect(()=>{(async()=>{a(!0);try{await new Promise(f=>setTimeout(f,1e3)),n({testsCompleted:12,averageScore:87,totalQuestions:60,correctAnswers:52,studyTime:145,streak:5,rank:"Продвинутый",achievements:["Первый тест","Серия из 5 тестов","Мастер математики","Эксперт по литературе"]})}catch(u){console.error("Error fetching user stats:",u)}finally{a(!1)}})()},[]),o)return s.jsx("div",{className:"min-h-screen p-8",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[1,2,3].map(d=>s.jsx("div",{className:"h-40 bg-gray-200 rounded-lg"},d))})]})})});if(!r)return s.jsx("div",{className:"min-h-screen p-8",children:s.jsx("div",{className:"max-w-6xl mx-auto text-center",children:s.jsx("p",{className:"text-gray-600",children:"Ошибка загрузки данных профиля"})})});const l=d=>{switch(d){case"student":return t("auth.student");case"teacher":return t("auth.teacher");case"tutor":return t("auth.tutor");default:return d}},i=Math.round(r.correctAnswers/r.totalQuestions*100);return s.jsx("div",{className:"min-h-screen p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"mb-8",children:s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:t("profile.title")})}),s.jsx(ce,{className:"mb-8",children:s.jsx(de,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx(Kt,{className:"h-20 w-20",children:s.jsx(El,{className:"text-2xl",children:e==null?void 0:e.name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e==null?void 0:e.name}),s.jsx("p",{className:"text-gray-600",children:e==null?void 0:e.email}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[s.jsx(Oe,{variant:"secondary",children:l((e==null?void 0:e.role)||"student")}),s.jsxs(Oe,{variant:"outline",children:[s.jsx(Mr,{className:"h-4 w-4 mr-1"}),r.rank]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.streak}),s.jsx("div",{className:"text-sm text-gray-600",children:"дней подряд"})]})]})})}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs(ce,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ge,{className:"text-sm font-medium",children:t("profile.testsCompleted")}),s.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(de,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.testsCompleted}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"+2 за последнюю неделю"})]})]}),s.jsxs(ce,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ge,{className:"text-sm font-medium",children:t("profile.averageScore")}),s.jsx(Ir,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(de,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[r.averageScore,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"+5% по сравнению с прошлым месяцем"})]})]}),s.jsxs(ce,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ge,{className:"text-sm font-medium",children:"Точность ответов"}),s.jsx(Ba,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(de,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[i,"%"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.correctAnswers," из ",r.totalQuestions]})]})]}),s.jsxs(ce,{children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ge,{className:"text-sm font-medium",children:"Время обучения"}),s.jsx(fs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(de,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[Math.floor(r.studyTime/60),"ч ",r.studyTime%60,"м"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"за этот месяц"})]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(ce,{children:[s.jsx(pe,{children:s.jsxs(ge,{className:"flex items-center space-x-2",children:[s.jsx(Ir,{className:"h-5 w-5"}),s.jsx("span",{children:t("profile.progress")})]})}),s.jsx(de,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Математика"}),s.jsx("span",{className:"text-sm text-gray-600",children:"92%"})]}),s.jsx(it,{value:92,className:"h-2"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Литература"}),s.jsx("span",{className:"text-sm text-gray-600",children:"85%"})]}),s.jsx(it,{value:85,className:"h-2"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"География"}),s.jsx("span",{className:"text-sm text-gray-600",children:"78%"})]}),s.jsx(it,{value:78,className:"h-2"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"История"}),s.jsx("span",{className:"text-sm text-gray-600",children:"65%"})]}),s.jsx(it,{value:65,className:"h-2"})]})]})})]}),s.jsxs(ce,{children:[s.jsx(pe,{children:s.jsxs(ge,{className:"flex items-center space-x-2",children:[s.jsx(Fa,{className:"h-5 w-5"}),s.jsx("span",{children:"Достижения"})]})}),s.jsx(de,{children:s.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.achievements.map((d,u)=>s.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:[s.jsx(Mr,{className:"h-4 w-4 text-yellow-500"}),s.jsx("span",{className:"text-sm font-medium",children:d})]},u))})})]})]})]})})},Gf=()=>{const[e,t]=c.useState(!0),[r,n]=c.useState([]),[o,a]=c.useState([]);c.useEffect(()=>{(async()=>{try{const d=await we.getAnalytics(),u=(d.totalTests*.7).toFixed(2),f=(2.5+(100-d.averageScore)/50).toFixed(2),m=(d.totalTests*1.9).toFixed(0),p=(Number(u)*(3+d.studyStreak)).toFixed(0),g=Math.min(98,40+d.studyStreak*8);n([{label:"MRR (demo)",value:`$${m}k`,delta:"+12% MoM",icon:s.jsx(Ua,{className:"h-5 w-5"})},{label:"ARPU",value:`$${u}`,delta:"+4.2% WoW",icon:s.jsx(Va,{className:"h-5 w-5"})},{label:"CAC",value:`$${f}`,delta:"-6.1%",icon:s.jsx(Ha,{className:"h-5 w-5"})},{label:"LTV",value:`$${p}`,delta:"+9.3%",icon:s.jsx(Ir,{className:"h-5 w-5"})},{label:"Retention 30d",value:`${g}%`,delta:"+2.0pp",icon:s.jsx(Ga,{className:"h-5 w-5"})},{label:"Avg. Score",value:`${d.averageScore}%`,delta:"+1.1pp",icon:s.jsx(Qa,{className:"h-5 w-5"})}]),a(d.progressTrend)}finally{t(!1)}})()},[]);const l="bg-[radial-gradient(1200px_600px_at_0%_0%,rgba(59,130,246,0.12),transparent_60%),radial-gradient(1200px_600px_at_100%_0%,rgba(168,85,247,0.12),transparent_60%),linear-gradient(135deg,#0f172a_0%,#0b1220_100%)]";return e?s.jsx("div",{className:`flex-1 flex items-center justify-center ${l}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"loading-futuristic mx-auto mb-4"}),s.jsx("p",{className:"text-white/70",children:"Preparing investor dashboard…"})]})}):s.jsx("div",{className:`flex-1 overflow-auto ${l}`,children:s.jsx("div",{className:"container mx-auto px-4 py-10",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:"Investor Snapshot"}),s.jsx("p",{className:"text-white/60",children:"Demo KPIs derived from learning analytics"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ie,{variant:"outline",className:"text-white/90 border-white/20",children:"Export"}),s.jsx(ie,{children:"Share"})]})]}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:r.map(i=>s.jsxs(ce,{className:"bg-white/5 border-white/10 text-white",children:[s.jsxs(pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ge,{className:"text-sm font-medium text-white/70",children:i.label}),s.jsx("div",{className:"p-2 rounded-lg bg-white/5 border border-white/10",children:i.icon})]}),s.jsxs(de,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i.value}),i.delta&&s.jsx("p",{className:"text-xs text-emerald-400 mt-1",children:i.delta})]})]},i.label))}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-4",children:[s.jsxs(ce,{className:"lg:col-span-2 bg-white/5 border-white/10 text-white",children:[s.jsx(pe,{children:s.jsx(ge,{children:"Learning → Revenue Correlation (demo)"})}),s.jsx(de,{children:s.jsxs("div",{className:"h-48 w-full relative",children:[s.jsxs("svg",{viewBox:"0 0 100 40",className:"w-full h-full overflow-visible",children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"grad",x1:"0",y1:"0",x2:"1",y2:"0",children:[s.jsx("stop",{offset:"0%",stopColor:"#60a5fa"}),s.jsx("stop",{offset:"100%",stopColor:"#a78bfa"})]})}),s.jsx("polyline",{fill:"none",stroke:"url(#grad)",strokeWidth:"2",points:(()=>{if(!o.length)return"0,20 100,20";const i=Math.max(...o.map(u=>u.score),100),d=Math.min(...o.map(u=>u.score),0);return o.map((u,f)=>{const m=f/Math.max(1,o.length-1)*100,p=40-(u.score-d)/Math.max(1,i-d)*30-5;return`${m.toFixed(2)},${p.toFixed(2)}`}).join(" ")})()})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm text-white/70",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ms,{className:"h-4 w-4"})," Avg score: ",s.jsxs("span",{className:"text-white",children:[Math.round(o.reduce((i,d)=>i+d.score,0)/Math.max(1,o.length)),"%"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fs,{className:"h-4 w-4"})," Period: ",s.jsxs("span",{className:"text-white",children:[o.length," days"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wa,{className:"h-4 w-4"})," Cohort: ",s.jsx("span",{className:"text-white",children:"Demo"})]})]})]})})]}),s.jsxs(ce,{className:"bg-white/5 border-white/10 text-white",children:[s.jsx(pe,{children:s.jsx(ge,{children:"Conversion Funnel (demo)"})}),s.jsx(de,{children:s.jsx("div",{className:"space-y-3",children:[{label:"Signup",v:92,color:"bg-blue-500"},{label:"Activation",v:71,color:"bg-violet-500"},{label:"Paid",v:38,color:"bg-fuchsia-500"}].map(i=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm text-white/70 mb-1",children:[s.jsx("span",{children:i.label}),s.jsxs("span",{className:"text-white",children:[i.v,"%"]})]}),s.jsx("div",{className:"h-2 w-full bg-white/10 rounded",children:s.jsx("div",{className:`h-full ${i.color} rounded`,style:{width:`${i.v}%`}})})]},i.label))})})]})]})]})})})};function Qf(){const{user:e,logout:t,isLoading:r}=$t(),{language:n,setLanguage:o,t:a}=Ct(),[l,i]=c.useState([]),[d,u]=c.useState(""),[f,m]=c.useState(!1),[p,g]=c.useState("chat"),[x,h]=c.useState(!1),v=Ue.useRef(null);c.useEffect(()=>{i([{id:"1",content:`👋 Добро пожаловать в EduPlatform!
        
Я ваш персональный ИИ-помощник для подготовки к ЕНТ. Я могу:
• 📚 Помочь с тестами и объяснить сложные темы
• 📊 Проанализировать ваш прогресс
• 🎯 Составить персональный план подготовки
• 💡 Дать советы по эффективному обучению

Что вас интересует?`,role:"assistant",timestamp:new Date,actions:[{label:"🎯 Начать тест",action:()=>g("tests")},{label:"📊 Мой прогресс",action:()=>g("profile")},{label:"💡 Советы по подготовке",action:()=>u("Дай советы по подготовке к ЕНТ")}]}]),(async()=>{try{(await fetch("/api/init",{method:"POST",headers:{"Content-Type":"application/json"}})).ok&&console.log("Backend initialized")}catch{}})()},[]),c.useEffect(()=>{var S;(S=v.current)==null||S.scrollIntoView({behavior:"smooth"})},[l]);const b=async()=>{if(!d.trim()||f)return;const S={id:Date.now().toString(),content:d.trim(),role:"user",timestamp:new Date};i(N=>[...N,S]),u(""),m(!0);const C={id:"typing",content:"Печатает...",role:"assistant",timestamp:new Date,isTyping:!0};i(N=>[...N,C]);try{const N=S.content.toLowerCase();let A="",T;if(N.includes("тест")||N.includes("экзамен"))A="Отлично! Давайте начнем тестирование. Выберите предмет и уровень сложности.",T=[{label:"📚 Перейти к тестам",action:()=>g("tests")}];else if(N.includes("прогресс")||N.includes("статистик"))A="Вот ваша статистика и прогресс обучения.",T=[{label:"📊 Открыть профиль",action:()=>g("profile")}];else{const _=e?`
          Пользователь: ${e.name} (${e.role})
          Тестов пройдено: ${e.tests_completed||0}
          Средний балл: ${e.average_score||0}%
        `:"",{response:P}=await we.sendAIMessage(S.content,_,n);A=P}i(_=>[..._.filter(E=>E.id!=="typing"),{id:Date.now().toString(),content:A,role:"assistant",timestamp:new Date,actions:T}])}catch(N){console.error("Error:",N),i(A=>[...A.filter(_=>_.id!=="typing"),{id:Date.now().toString(),content:"Извините, произошла ошибка. Попробуйте позже.",role:"assistant",timestamp:new Date}])}finally{m(!1)}},y=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),b())},w=async()=>{await t(),g("chat")},j=[{icon:"📚",label:"Начать тест",action:()=>g("tests")},{icon:"📊",label:"Мой прогресс",action:()=>g("profile")},{icon:"💡",label:"Советы",action:()=>u("Дай советы по подготовке к ЕНТ")},{icon:"🎯",label:"План подготовки",action:()=>u("Составь план подготовки к ЕНТ")}];return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-white",children:"Загрузка..."})]})}):(!e&&(p==="tests"||p==="profile")&&g("auth"),s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white flex",children:[x&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>h(!1)}),s.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-black/50 backdrop-blur-lg border-r border-white/10 transform transition-transform duration-300 ${x?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:static lg:w-64 lg:flex-shrink-0`,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-6 border-b border-white/10",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Jt,{className:"h-8 w-8 text-blue-400"}),s.jsx(Ka,{className:"absolute -top-1 -right-1 h-4 w-4 text-yellow-400 animate-pulse"})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"EduPlatform"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Next-Gen Learning"})]})]})}),s.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[s.jsxs("button",{onClick:()=>g("chat"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${p==="chat"?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"hover:bg-white/5 text-gray-300"}`,children:[s.jsx(qa,{className:"h-5 w-5"}),s.jsx("span",{children:"ИИ Ассистент"})]}),s.jsxs("button",{onClick:()=>g("tests"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${p==="tests"?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"hover:bg-white/5 text-gray-300"}`,children:[s.jsx(Zt,{className:"h-5 w-5"}),s.jsx("span",{children:"Тесты"})]}),e&&s.jsxs("button",{onClick:()=>g("profile"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${p==="profile"?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"hover:bg-white/5 text-gray-300"}`,children:[s.jsx(Ya,{className:"h-5 w-5"}),s.jsx("span",{children:"Прогресс"})]}),s.jsxs("button",{onClick:()=>g("investor"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${p==="investor"?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"hover:bg-white/5 text-gray-300"}`,children:[s.jsx(ms,{className:"h-5 w-5"}),s.jsx("span",{children:"Investor"})]})]}),s.jsx("div",{className:"p-4 border-t border-white/10",children:e?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-white/5 rounded-lg",children:[s.jsx(Kt,{className:"h-8 w-8 bg-gradient-to-r from-blue-500 to-purple-500",children:s.jsx(Mt,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:e.name}),s.jsx("p",{className:"text-xs text-gray-400",children:e.email})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>o(n==="ru"?"kz":"ru"),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",children:[s.jsx(Xa,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:n.toUpperCase()})]}),s.jsxs("button",{onClick:w,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",children:[s.jsx(Ja,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Выйти"})]})]})]}):s.jsxs("button",{onClick:()=>g("auth"),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg hover:from-blue-600 hover:to-purple-600 transition-all",children:[s.jsx(Mt,{className:"h-5 w-5"}),s.jsx("span",{children:"Войти"})]})})]})}),s.jsx("button",{onClick:()=>h(!x),className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-black/50 backdrop-blur-lg rounded-lg border border-white/10",children:x?s.jsx(ds,{className:"h-6 w-6"}):s.jsx(Za,{className:"h-6 w-6"})}),s.jsx("div",{className:"flex-1 flex flex-col lg:ml-0 min-w-0",children:p==="chat"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-black/30 backdrop-blur-lg border-b border-white/10 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(It,{className:"h-8 w-8 text-blue-400"}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 rounded-full animate-pulse"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"ИИ Ассистент"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Всегда готов помочь"})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:j.map((S,C)=>s.jsxs("button",{onClick:S.action,className:"px-3 py-1.5 bg-white/5 hover:bg-white/10 rounded-lg text-sm transition-colors flex items-center gap-2",title:S.label,children:[s.jsx("span",{children:S.icon}),s.jsx("span",{className:"hidden sm:inline",children:S.label})]},C))})]})}),s.jsx(tn,{className:"flex-1 p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[l.map(S=>s.jsxs("div",{className:`flex gap-3 ${S.role==="user"?"justify-end":"justify-start"}`,children:[S.role==="assistant"&&s.jsx(Kt,{className:"h-8 w-8 bg-gradient-to-r from-blue-500 to-purple-500",children:s.jsx(It,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{className:`max-w-[70%] ${S.role==="user"?"order-1":""}`,children:[s.jsx("div",{className:`rounded-2xl px-4 py-3 ${S.role==="user"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-white/10 backdrop-blur-lg border border-white/10"}`,children:S.isTyping?s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}):s.jsx("p",{className:"whitespace-pre-wrap",children:S.content})}),S.actions&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:S.actions.map((C,N)=>s.jsx("button",{onClick:C.action,className:"px-3 py-1.5 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 rounded-lg text-sm transition-colors",children:C.label},N))})]}),S.role==="user"&&s.jsx(Kt,{className:"h-8 w-8 bg-gradient-to-r from-green-500 to-teal-500 order-2",children:s.jsx(Mt,{className:"h-4 w-4 text-white"})})]},S.id)),s.jsx("div",{ref:v})]})}),s.jsx("div",{className:"bg-black/30 backdrop-blur-lg border-t border-white/10 p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Je,{value:d,onChange:S=>u(S.target.value),onKeyPress:y,placeholder:"Задайте вопрос или выберите действие...",disabled:f,className:"flex-1 bg-white/10 border-white/20 text-white placeholder-gray-400 focus:border-blue-400"}),s.jsx(ie,{onClick:b,disabled:f||!d.trim(),className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 px-6",children:s.jsx(us,{className:"h-5 w-5"})})]}),!f&&d.length===0&&s.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:["Как улучшить результаты?","Объясни сложную тему","Составь план подготовки","Проанализируй мои ошибки"].map((S,C)=>s.jsx("button",{onClick:()=>u(S),className:"px-3 py-1.5 bg-white/5 hover:bg-white/10 rounded-lg text-sm text-gray-300 transition-colors",children:S},C))})]})})]}):p==="auth"?s.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:s.jsx(tf,{})}):p==="tests"?s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsx(Vf,{})}):p==="profile"?s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsx(Hf,{})}):p==="investor"?s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsx(Gf,{})}):null}),s.jsx(ii,{position:"top-right",expand:!0,richColors:!0,toastOptions:{style:{background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",color:"white"}}})]}))}Or.createRoot(document.getElementById("root")).render(s.jsx(Ue.StrictMode,{children:s.jsx(Ml,{children:s.jsx(kl,{children:s.jsx(Qf,{})})})}));export{vt as _};
//# sourceMappingURL=index-d9da2ede.js.map
